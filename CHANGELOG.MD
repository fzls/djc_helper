# 更新公告
1. 移除过期活动
2. 增加手动设置会长和会员角色的名称，用以避免尝试每个角色，加快处理速度
3. 将工会活动抽奖开关移至【其他】区域，更加容易找到
4. 修复查询助手相关活动时会因类型而报错的问题
5. 增加说明虎牙的cookie时效性（几天左右，所以建议手动做<_<）
6. 如需购买自动更新DLC或按月付费，请使用配置工具的卡密购买功能，具体流程请查阅目录中【付费指引v20210209.docx】(日期可能随版本变动)
7. 其他改动及上述功能具体用法，详见README.MD和CHANGELOG.MD以及使用教程/使用文档.docx和教程视频


# v13.14.13 2021.10.9
## 活动维护
1. 移除过期活动

## 流程调整
1. 增加手动设置会长和会员角色的名称，用以避免尝试每个角色，加快处理速度
2. 临时绑定领取流程增加一个 快速鉴别函数回调， 供调用处快速过滤掉不需要的角色，加快处理速度

## 配置工具
1. 将工会活动抽奖开关移至【其他】区域，更加容易找到

## bugfix
1. 修复查询助手相关活动时会因类型而报错的问题

## 文案调整
1. 查询活动的日志处增加显示实际调用的位置
2. 未开启集卡抽奖时，增加提示可配置最后一天自动抽奖，并显示当前开关状态
3. 更多中间流程的日志增加打印实际有意义的调用处
4. 增加说明虎牙的cookie时效性

## 其他
1. 卖卡脚本增加适配新版集卡


# v13.14.12 2021.10.6
## 流程调整
1. 心悦兑换超出上限时，不再尝试剩余次数
2. 公会活动徽章和会员活动中，如果道聚城绑定角色不是该身份，则尝试其他角色中所有符合该身份的，而不是符合条件的第一个，从而只要其中一个完成了对应条件就可以领取（会长：登录，会员角色：在线30分钟）

# v13.14.11 2021.10.6
## bugfix
1. 修复新版集卡抽奖固定使用第六张卡牌的问题

## 流程调整
1. 查询完付费信息后尝试判断是否有新的付费记录，若有则进行通知

## ci
1. 收到pr的时候不触发构建docker镜像的流程

## 其他
1. 新增telegram群，以备qq群不可用的情况

# v13.14.10 2021.10.3
## 活动维护
1. 调整默认赠送次数为4*账号数
2. 调整管家活动时间和链接

## bugfix
1. 修复生日礼包未实际领取的问题

## 其他
1. get_qq_accounts中过滤掉未完成登录的账号

# v13.14.9 2021.9.29
## 活动维护
1. 更新关怀活动的链接，并尝试用回归角色领取
2. 集卡的默认次数改为10，不需要100这么大

## 文案调整
1. 完善虎牙cookie的获取说明
2. 完善公会活动的提示
3. 完善登录失败时的提示语

## 其他
1. 升级chrome版本到94.0.4606.61
2. 调整QQ群为八群


# v13.14.8 2021.9.24
## bugfix
1. urls.sign签到接口偶尔会报 401 Unauthorized，因此需要加一层保护，确保不影响其他流程
2. 签到操作失败时进行若干次重试

## 其他
1. 查询活动信息兼容token未配置的情况

# v13.14.7 2021.9.21
## 活动维护
1. 新增 qq会员杯 活动
2. 新增 虎牙 活动
3. 工会活动增加同时尝试领取会长和会员的奖励（当不是当前绑定角色领取到奖励时，会最多每周弹窗一次提示）
4. 小酱油增加解析生日信息，用于在生日后30天内提醒手动领取腾讯充值中心的生日礼包（每周一次）
5. 心悦猫咪的粉红喵酱只能兑换一次，改回贤德昭仪
6. 兼容同时存在的多个dnf论坛兑换活动中部分结束的情况，确保其他活动仍能正常运行
7. 移除已经过期的dnf论坛兑换活动

## 测试
1. 增加若干测试用例

## 其他
1. 同时兼容群二维是jpg和png的情况，避免下次修改后没注意后缀导致打开失败

# v13.14.6 2021.9.17
## 活动维护
1. dnf助手活动增加查询任务和选择任务
2. 增加展示dnf助手活动任务完成次数

## bugfix
1. 修复查询不了浇水次数的问题

## 文案调整
1. 调整复制的说明

## 其他
1. 增加一些常用ua的记录，以便后续使用

# v13.14.5 2021.9.17
## 活动维护
1. 调整 wegame 活动
2. 启用 轻松之路 活动
3. 新增 colg每日签到 活动

# v13.14.4 2021.9.16
## 活动维护
1. 新增 命运的抉择挑战赛 活动

## 流程调整
1. 马杰洛见面礼是否使用回归角色增加开关
2. 调整 助手活动的完成任务列表，每个都尝试，因为只有当天随到的任务才可以做
3. 调整wegame活动
4. 新版qq空间系活动fetch pskey后在内部直接设置lr字段，避免部分地方漏设置该字段

# v13.14.3 2021.9.15
## bugfix
1. 修复配置工具部分配置无法保存的问题

# v13.14.2 2021.9.15
## 活动维护
1. 接入 新马杰洛活动（浇水以外内容）
2. 接入 超级会员 活动
3. 接入 黄钻 活动
4. 接入 wegame 活动
5. 接入 集合站 活动
6. 接入 心悦 活动
7. 接入 管家蚊子腿 活动
8. 新增 公会 活动
9. 新增 勇士的冒险补给-回归玩家 活动
10. 新增 命运的抉择挑战赛（暂未开放） 活动
11. 增加 关怀 活动
12. 新增 轻松之路（暂未开放） 活动
13. 新增 助手-命运的馈赠 活动
14. 调整马杰洛小工具
15. 增加一些充值活动和斗鱼虎牙活动的手动完成提示

## 文案调整
1. 调整自动登录超时时的提示
2. 配置工具出错框增加显示版本信息

# v13.14.1 2021.9.15
## bugfix
1. 修复配置工具无法启动的问题

# v13.14.0 2021.9.14
## 活动维护
1. 接入 新版集卡 活动
2. 接入 福利中心 活动
3. 新增 落地页 活动
4. 其他活动因为时间原因，今天暂时接不完，明天的版本再加入

## 文案调整
1. 调整论坛参数的配置说明

## 其他
1. 增加一些视频教程链接

# v13.13.3 2021.9.13
## bugfix
1. 心悦猫咪中粉红喵酱的flowid需要特殊处理

## 配置工具
1. 增加一个一键关闭管家和qq空间活动的开关
2. 删除账号改为选择已有账号，不必再手动输入账号名

## ui调整
1. 调整标题框的样式

## 工具链
1. 增加tox支持，方便本地一键测试和lint
2. 增加pre-commit-config，但暂不启用，先放着

## 其他
1. 更新道聚城的游戏列表
2. 修改默认的hello语音兑换道具
3. 调整QQ群为七群

# v13.13.2 2021.9.6
## 活动维护
1. 心悦猫咪使用新的皮肤-粉红喵酱，可额外减少历练两小时

## bugfix
1. dlc内存占用bug修复：当蓝奏云api未关闭保持官方限制开关时，不尝试从文件末未解析额外编码的信息。否则在文件实际没有进行额外编码的情况下，进行pickle.loads可能会导致内存占用非常大，比如这个文件【DNF蚊子腿小助手_增量更新文件_v13.11.0_to_v13.13.0.7z】
2. 对应issue https://github.com/zaxtyson/LanZouCloud-API/issues/65

## 基础设施
1. 增加新的初始化并激活venv的脚本

# v13.13.1 2021.9.4
## bugfix
1. 兼容没有论坛账号的号，避免显示个人概览时崩溃

# v13.13.0 2021.9.3
## 活动维护
1. 添加 官方论坛兑换 活动
2. 接入 冒险的起点 活动
3. 移除过期活动

## 流程调整
1. 使用github查询更新信息时，如果失败，尝试使用若干个镜像网站进行访问
2. 官方论坛cookie过期时弹窗提示
3. 调整漫画活动为基于某个时间基准，按照一周一集计算出当前应该是第几集

## 文案调整
1. 更新文档中dlc的赠送月份描述
2. 调整编年史提示，覆盖没有编年史的情况
3. 个人概览增加展示论坛代币券

## 其他
1. readme末尾增加历史点赞数
2. 更新默认QQ群为三群

## github action
1. 调整生成github action专属配置的代码，精简部分字段
2. 标记为不在github action环境中启用的账号直接不再导出
3. 打包时略过本地配置和github action专属配置
4. 增加生成json版本github action配置
5. 转换base64增加压缩选项
6. 增加压缩后base64的环境变量，以及调整部分环境变量名称，更加直观
7. 设置dockerfile时区为东八区
8. 各个workflow统一在开头设置时区为东八区
9. 增加一个用于在linux下初始化python3的venv并安装依赖的脚本
10. docker中运行命令增加set -x，执行每个命令前先打印出来，更加直观
11. 增加每天定时打包docker
12. 定期运行docker使用master版本
13. 增加设置pip镜像地址的构建参数
14. docker：默认使用非root账户启用小助手
15. 增加使用docker和腾讯云函数来运行的说明

## 代码封装
1. 增加解压缩bytes的封装函数

# v13.12.0 2021.8.31
## 活动维护
1. 新增 qq视频蚊子腿
2. 调整漫画活动集数

## 容器化
1. 增加docker镜像
2. 增加一个用docker运行的workflow
3. 增加构建和推送docker镜像的workflow
4. 增加适配腾讯云函数的镜像模式（初版）
5. 尝试修复linux下chrome启动失败的问题
6. 增加支持通过多个环境变量来传入不同编码的toml配置文件内容

## 代码重构
1. 封装使用幸运角色临时领取的逻辑，方便后续复用

# v13.11.0 2021.8.28
## 活动维护
1. 增加 小酱油 每周礼包和生日礼包

## 基础代码
1. get、post接口增加支持额外传入header用以覆盖默认header

# v13.10.1 2021.8.26
## bugfix
1. 修复配置工具的默认配置导致心悦app操作默认开启而导致非预期登录心悦网页的问题
2. 打包时移除各个requirements文件

# v13.10.0 2021.8.25
## 活动维护
1. 接入新的管家活动

## 配置工具
1. 配置工具增加显示心悦app兑换配置，并增加提示按钮（相当复杂，建议手动领）

# v13.9.1 2021.8.23
## 活动维护
1. 更新漫画活动到18集
2. 移除过期的一些活动
3. 修正部分活动的起始时间

## 文案调整
1. 调整道聚城绑定的配色和文案

## linux适配
1. 修复一个linux下会报错的地方
2. 似乎只有wsl下会卡住，虚拟机里测试ubuntu没有问题，就不强制关闭多进程了

## 其他
1. 调整readme中推荐的clone指令，增加depth参数，减少需要下载的内容量

# v13.9.0 2021.8.20
## 活动维护
1. 接入黄钻和超级会员活动

## bugfix
1. 修复配置工具新添加的账号若未保存，部分字段可能未初始化的问题

## 系统适配
1. 增加适配linux

# v13.8.4 2021.8.19
## 马杰洛
1. 马杰洛小工具小号领取宝箱时最后统一弹窗一起显示，避免要登一个号操作完后手点一下才能进行下一个-。-

# v13.8.3 2021.8.18
## 马杰洛
1. 增加检查账号序号是否合法
2. 马杰洛小工具修改登录全部账号按钮为查看教程按钮

## 配置工具
1. 配置工具高DPI加入到配置文件中

## 文案调整
1. 检查道聚城绑定时，还未获取skey，移除打印uin
2. 道聚城未绑定账号信息增加qq信息

## 数据上报
1. 马杰洛工具按钮增加上报

## 其他
1. 增加一个检查是否是未登录的函数

# v13.8.2 2021.8.18
## 马杰洛
1. 增加一个一键登录全部账号的按钮
2. socde允许填写scode或者直接整个url
3. 按钮增加步骤序号
4. 修复小工具领取礼盒成功仍会提示繁忙的问题

# v13.8.1 2021.8.18
## 马杰洛
1. 增加一个便捷给小号发马杰洛邀请，以及用小号领取对应奖励的脚本
2. 个人概览增加展示马杰洛赠送礼盒数目
3. 配置工具增加马杰洛小工具tab

## 其他
1. 同步配置不再包含自动更新dlc

# v13.8.0 2021.8.17
## 活动维护
1. 接入马杰洛活动（深渊礼盒需要自行赠送和接收）
2. 更新漫画活动集数

## 配置
1. 默认开启命令行缓存和最大化
2. 默认开启超快速模式

## 其他
1. 升级chrome版本到92.0.4515.131

# v13.7.1 2021.8.16
## 其他
1. 检查更新时临时启用代理

# v13.7.0 2021.8.16
## 配置工具
1. 配置工具增加集卡最后一天抽光所有卡片的选项
2. 增加无视系统代理的配置，并默认无视代理

## 文案调整
1. 调整付费提示，避免歧义
2. 获取qq列表时，跳过未启用的账号列表
3. 调整dlc未购买提示

## 流程调整
1. dlc查询资格函数增加返回是否查询成功，用于判定是查询成功有资格，还是服务暂不可用而全部放行
2. 在服务不可用而全部放行的情况下，若本地没有dlc，不尝试自动下载，而是直接跳过

## 代码健壮性
1. qq空间系的几个活动增加异常保护

## 基础代码
1. 解压缩时先解压缩到临时文件，操作完成后再直接替换到目标文件，减少文件不可用时长

## 基础设施
1. 完善测试用例
2. 增加接入Coveralls

## bugfix
1. 调整filter_unused_params的实现并添加测试用例

## 其他
1. 按照助手上显示的活动时间修改集卡结束时间

# v13.6.2 2021.8.12
## 优化
1. 网盘下载接口增加优化机制，当可配置仅当网盘中版本比本地版本新时才尝试下载
2. 下载完成后再删除源文件，然后重命名临时文件，减少文件无效的时长
3. 若因与网盘版本一致而没有实际发生下载行为，且本地压缩包已经解压过，则不再尝试解压
4. 调整压缩版本和下载文件的临时目录位置，避免冲突
5. 每次更新db文件后都修改file_created标记为true，避免因为多进程导致该值为false后再也没有设置机会

## bugfix
1. 下载完毕后尝试更新目标路径

## 其他
1. 移除使用卡密后多余的一次弹窗
2. 增加一个当不需要打印时替换log函数为debug的辅助函数
3. 增加使用封装的函数，确保至少有debug日志，方便排查问题

# v13.6.1 2021.8.9
## 文案调整
1. 增加展示兑换心悦app前后的G分数目
2. 调整使用卡密后的提示语

## 网盘调整
1. 更新存储目录的信息

## 流程调整
1. 兼容cache更新数据失败的情况

## 工具链
1. 初始化venv脚本增加dev参数，方便切换为dev环境
2. 使用仍在维护中的pytest-randomly替换pytest-random-order
3. 增加pytest-xdist插件，用于并行运行pytest
4. 接入dependabot
5. 增加一键初始化开发和发布版本venv环境的脚本
6. 接入codeql-analysis

## 其他
1. 鉴于已接入dependabot自动维护版本号，依赖文件中将指定版本号
2. 增加强制更新cache的参数，方便调试
3. 增加上传完文件时移除旧版本文件的参数


# v13.6.0 2021.8.6
## 活动维护
1. 增加hello语音活动
2. 移除一些过期活动

## 配置工具
1. 配置工具账号名tab名称增加体现该账号是否启用

## 流程调整
1. 鉴于刃影升级活动基本都已经满级，不再尝试切换角色来领取该奖励，若未领取的请自行前往领取

## 文案调整
1. 调整心悦组队的人数说明
2. 显示付费提示时增加展示已登录的qq信息

## 文档维护
1. 付费指引增加额外说明

## 基础设施
1. 引入pytest需要的依赖文件
2. 增加部分测试用例
3. github action增加lint和test流程
4. 引入codecov用于检查代码覆盖率
5. 更新readme，增加若干badge
6. 引入isort和flake8，提高代码质量

# v13.5.0 2021.8.3
## 活动维护
1. 更新漫画活动集数

## 流程变更
1. 优先尝试从服务器查询付费信息，加快查询速度

## 其他
1. 卖卡脚本跳过未开启集卡的账号

# v13.4.5 2021.8.2
## 其他
1. 调整群二维码为一群

# v13.4.4 2021.8.2
## 文案调整
1. 调整dlc检测的提示
2. 账号概览中增加标记是否是特邀会员
3. 配置工具中新增心悦兑换复活币和高级装扮默认配置

## 黑名单
1. 添加黑名单

# v13.4.3 2021.7.29
## bugfix
1. 修复集卡活动登录领取的次数没领取的问题

# v13.4.2 2021.7.28
## 活动维护
1. 移除部分过期活动

## 配置工具
1. 购买和使用卡密折叠框调整背景色
2. 调整卡密折叠框文案

## bugfix
1. 修复论坛活动不能正常运行的问题

# v13.4.1 2021.7.27
## 配置工具
1. 新增漫画活动抽奖开关，方便手动兑换完想要的奖励后开启

## 数据统计
1. 根据ga4统计界面，调整上报的数据结构层级，方便一眼看出统计分布

## 工具链
1. 同步gitee增加手动触发方式

# v13.4.0 2021.7.26
## 活动维护
1. 接入新的会员关怀活动
2. 更新漫画活动到14集

## 配置工具
1. 当修改账号名时，根据之前的账号名，定位并同步修改tab名称
2. 调整按钮配色

## 数据统计
1. 尝试接入Google Analytics 4

## 其他
1. 手游名称默认值改回任意
2. 默认配置增加一个未启用的二号配置，用于提示可以添加多个账号一起运行-。-

# v13.3.0 2021.7.23
## 活动维护
1. 接入新的超级会员活动
2. 漫画活动更新到13集

## 流程优化
1. 预下载chrome的流程允许失败，并增加提示。让其走到检查chrome的地方自行进行操作

## 文案调整
1. 道聚城提示中增加账号名称
2. 修正集卡最后一个角色的显示规则不符合预期的问题
3. 下载失败时提示去网盘自行下载

## bugfix
1. 调整窗口大小时的config实例进行deepcopy，避免后续主线程加载过程中的中间状态影响该配置实例

## 其他
1. 调整测试脚本，方便调试时修改是否开启多进程

# v13.2.0 2021.7.20
## 活动维护
1. 新增 集卡 活动
2. 新增 qq空间黄钻 活动
3. 新增 福利口令 活动
4. 接入 新管家 活动

## 流程调整
1. 道聚城参数未配置时，首次提示时进行弹窗

# v13.1.1 2021.7.18
## 活动维护
1. 马杰洛活动增加配置赠送礼包inviteuin列表

# v13.1.0 2021.7.18
## 活动维护
1. 新增 勇士的冒险补给 活动

# v13.0.1 2021.7.18
## 活动维护
1. 马杰洛活动见面礼尝试使用集卡幸运角色来领取（若配置）
2. 修复奥兹玛活动宝箱领取失败的问题

## 配置工具
1. 配置工具增加autojs版的按钮
2. 配置工具购买卡密标签增加指引点击左上角的付费指引按钮

## 代码重构
1. 移动部分文件到相关信息目录中
2. 封装临时切换逻辑

## 基础代码
1. 增加根据服务器获取大区服务器信息的方法

## 数据统计
1. 增加上报开始和结束运行以及打开配置工具的pageview

## 其他
1. 获取角色信息函数支持从外部传入角色信息，方便临时切换为其他大区角色
2. 增加根据区服id和角色id查询角色信息的函数

# v13.0.0 2021.7.17
## 活动维护
1. 接入马杰洛关怀 第八期

## bugfix
1. 当开启超快速模式时，因wegame活动和集合站活动共享绑定角色信息，为不影响集合站活动的奖励领取角色，wegame女鬼剑升级奖励尝试切换角色前先等待60秒，确保其他活动都领取完毕后再执行wegame的临时切换逻辑

## 配置工具
1. 配置工具增加支持设置备份还原功能
2. 调整配置工具运行按钮文案，更符合实际做的事情

## 文案调整
1. dlc增加提示购买按月付费的情况
2. 奥兹玛抽奖增加展示总数
3. 重命名config.toml.example为config.example.toml，从而在不显示后缀名时，示例配置文件会被显示为config.example，而不是之前的config.toml，从而确保即使是不明白显示后缀名区别的用户也能明白这个文件不是config.toml

## 流程调整
1. 最大化改为默认不启用
2. 窗口缓存大小及最大化和最小化改为配置项
3. 当创建了.no_sync_configs文件后，不止禁用首次使用时同步配置功能，同时禁用备份配置功能

## 异常兼容
1. 封装vuserid的设置和获取流程，兼容不存在的情况

## 数据统计
1. 将google analytics加回来，作为备用数据统计渠道
2. 修复ga因缺失an（app名称）参数而上报失败的问题，并添加日志方便排查
3. 重构数据上报接口，允许设置是否上传到各个渠道
4. 上报模块使用通用异常捕获装饰器
5. 增加更多仅上报ga的埋点

## 代码重构
1. 重构整体目录结构，首层目录仅放必要内容，突出重点

## 其他
1. 移除requirements中的中文，已修复github action run不能正常运行的问题
2. 不再创建first_run目录
3. 漫画活动想要的内容已全部兑换，当是我运行时，将剩余星星抽奖

# v12.1.1 2021.7.13
## 流程优化
1. 提示付费时不再显示付款码，而是显示付费指引docx，避免默认直接扫码<_<引导更多使用卡密模式，减少后续工作量

# v12.1.0 2021.7.13
## 活动维护
1. 漫画活动增加第12集
2. 漫画活动的集数奖励改为每周尝试一次，避免部分集数漏掉

## 文案优化
1. 调整活动概览格式，增加展示活动链接（若有）
2. 禁用快速编辑模式时提示如何复制内容

## 流程优化
1. 读取缓存的pskey时增加异常保护，读取失败不应影响正常流程

## bugfix
1. 修复有账号是自动登录模式时，配置工具启动前会快速闪过几个登录窗口的问题

## 代码重构
1. 重构活动链接相关代码，改为统一维护

## 其他
1. 活动cache增加检查文件是否存在

# v12.0.2 2021.7.12
## bugfix
1. 修复马杰洛结束时机不对的问题，并改成动态获取

# v12.0.1 2021.7.12
## 活动维护
1. wegame刃影升级礼包尝试临时切换为账号内的女鬼剑角色来领取该礼包

## 工具链
1. 上传失败时等待一会重试，最多尝试三次

# v12.0.0 2021.7.12
## 活动维护
1. 移除过期活动
2. 更新qq视频蚊子腿的活动时间

## 配置工具重构
1. 配置工具中不再支持手动登录选项
2. 重构配置工具界面，全面支持折叠控件，使界面结构看上去更直观
3. 调整配置工具配置顺序，将更重要的配置往前挪
4. 非自动登录模式时，自动折叠账号密码框
5. 手游名称默认填为 无 ，需要更多聚豆的人自行填写
6. 修复礼包达人的手游名称获取失败的问题
7. 移除部分不再用到的配置
8. 当有账号配置时，启动时默认聚焦首个账号配置
9. 配置工具增加心悦特权专区兑换装备提升礼盒

## bugfix
1. 查询活动信息增加异常保护
2. 修复查看活动信息时，即使首个账号未启用，仍会继续尝试登录的问题
3. 兼容一下统计集卡信息的时候可能无数据的情况
4. urllib改回最新，不然部分电脑好像会出更奇怪的问题-。-

## 文案显示
1. 活动概要出现异常时不尝试打印日志

## 其他
1. 调整QQ群为六群
2. 修正启动脚本

# v11.3.0 2021.7.8
## 活动维护
1. 移除过期活动
2. 更新漫画活动集数
3. 接入新的qq视频活动
4. 接入新的wegame活动
5. 接入新的合集活动
6. 接入新的心悦活动
7. 新增微信公众号抽奖提示

## bugfix
1. 兼容使用vpn时可能会报ValueError: check_hostname requires server_hostname的问题

## 文案调整
1. 增加提示如何创建仅后缀名的文件
2. 道聚城检查绑定时增加提示当前qq号
3. 调整示例配置的开头提示
4. 调整文档中dlc和按月付费的显示顺序
5. 购买dlc调整提示内容
6. 配置工具和本体复用同一套使用github检查更新失败的流程
7. 活动信息额外打印活动起始日期
8. 报错时尝试将回复中的转义utf8转换为普通utf8
9. 补充一句说明，告知心悦理财礼卡不是小助手的剩余时长

## 配置工具
1. 使用折叠控件调整道聚城兑换的界面

## 流程优化
1. 配置读取错误，写完日志后继续抛出异常，由顶层异常处理逻辑来捕获
2. 通用异常消息提取中兼容配置文件无法正确读取的情况
3. 获取cookie加一层保护

## 配置同步
1. 不再尝试同步.cached目录
2. 同步旧版本配置时额外判断是否配置文件为空的

## 代码重构
1. 重构最大化相关函数，使最大化和最小化互不影响。同时允许falg为文件或目录均可
2. 封装是否存在对应标记文件的函数，方便快速确认有哪些标记文件
3. 重写清除登录信息的逻辑，仅清除登录相关内容，而不改动其他cache部分

## dlc
1. uploader增加获取和下载dlc最新版本的流程
2. dlc异常退出时返回错误码1
3. 增加dlc的测试代码
4. dlc操作失败时尝试更新dlc版本后重试，最多尝试3次
5. 复制最新版dlc时保留meta信息
6. 仅当文件不同且修改时间也不同时才尝试覆盖更新dlc

## 基础库
1. 调整蓝奏云的解析时间代码，格式改为到秒
2. 增加解析时间戳的辅助函数
3. 添加从Stack Overflow获取的可折叠qt控件

## 其他
1. firstrun额外打印一些日志，方便调试
2. 通用弹窗函数增加一个是否遵循标记文件的参数，从而允许部分弹窗总是展示
3. ams活动的eas_url自动移除末尾的index.html

# v11.2.0 2021.7.3
## bugfix
1. 修复自动更新dlc启动失败的问题

## 流程优化
1. 由于QQ空间的活动经常不太稳定，允许其检查失败，让其他不依赖于QQ空间pskey的活动能继续跑
2. 重构检查p_skey是否过期的流程
3. gameinfo改为lazyload，从而不需要该文件时不必因为引用而导致报错

## 重构
1. 重构制作补丁流程，旧版本列表改为从网盘获取，并按需下载、解压相应旧版本

## 其他
1. 更正集卡链接
2. gameinfo出错时增加打印当前路径

## 基础代码库
1. 代码库里面的蓝奏云api的查询文件夹信息增加指定页面的功能
2. 上传器的查询文件夹接口增加支持指定页面
3. 封装文件和文件夹的解压缩操作

# v11.1.0 2021.7.2
## bugfix
1. 修复配置工具创建账号后因未执行配置回调函数，部分字段未初始化而导致会出问题的情况（如创建账号后点击幸运角色选择框）

## 流程优化
1. 用时太久的情况下，引导开启多进程和超快速模式
2. 奥兹玛临时切换角色增加忽略部分角色的功能，避免角色很多的号运行太慢
3. 调整同步配置的时机
4. 检查绑定可从外部传入角色信息，而不是直接使用道聚城的绑定信息，从而方便临时修改某个活动的绑定信息而不影响其他活动，如奥兹玛竞速的多角色领取抽奖次数
5. 检查绑定允许由外部传入打印的绑定原因
6. 调整奥兹玛活动切换领取角色的逻辑，确保不会影响到其他活动

## 显示优化
1. windows环境下同步设置cmd的缓存区大小
2. 查询角色信息的日志增加记录等级和职业
3. 编年史鉴权信息不对时增加提示

## 工具链
1. 调整发布时上传顺序，使最终网盘页面看上去更直观
2. 发布时额外上传一些内容
3. 重构上传脚本，更符合直觉
4. 上传前展示全部列表
5. 补丁包流程增加仅计算路径参数

# v11.0.0 2021.7.1
## 配置备份
1. 增加本机的配置自动备份和同步流程

## 流程优化
1. 扫码模式时，每次等待固定时长

## 文档
1. 重构一波文档，使得整体结构更加清晰，并基于最新的配置工具来介绍相关内容
2. 补充若干个视频教程链接

## 文案
1. 调整道聚城的绑定指引
2. 结尾时活动部分增加展示完整活动列表
3. 调整未付费时展示活动内容的格式
4. 增加助手编年史的tip

## 代码重构
1. 抽取同步配置的逻辑，方便复用

# v10.17.0 2021.6.29
## 活动维护
1. 重构colg活动

## bugfix
1. 修复因支持多进程模式后，部分逻辑处未初始化角色绑定信息的问题（如心悦固定队无法组队成功）

## 流程优化
1. 即将过期时每天提示一次
2. 可设置提前提示付费过期的时间
3. 调整使用dlc的相关逻辑，增加自动更新和自动下载机制
4. 先尝试自动更新，再尝试手动更新，确保在没有dlc的情况，已购买用户可以先自动下载，之后再检查是否存在

## 文案
1. 调整提示付费的文案

## 配置工具
1. 调整角色选择器，当无角色信息时继续显示默认提示语

## 其他
1. 当存在.no_message_box文件时，不弹窗，仅刷日志

## 代码重构
1. dlc使用封装的函数来启动小助手，并在启动后退出自己

## 基础代码
1. 新增从html中根据前后缀提取内容的辅助函数
2. 增加封装获取文件md5的函数
3. 封装启动小助手的函数

# v10.16.0 2021.6.28
## 活动维护
1. 接入管家新活动的领取抽奖奖励阶段，并补领取之前抽了但没领取的奖励
2. 调整dnf漫画的可领取集数
3. 周年庆时间点差不多过去了，把登录活动改为默认开启

## bugfix
1. 修复last_response_info没有正确设置的问题
2. 修复qc_IED_LOG_INFO2中无nickname时会崩溃的问题
3. 修复 刃影预约活动 活动小号会报错的问题

## 显示
1. 请求过快的日志仅显示debug级别
2. 道聚城绑定补充说明
3. 管家活动补充说明
4. 增加获取对分析日志有意义的最近的调用处的函数，并应用到请求回包日志处
5. 移除周年庆的提示

## 功能
1. 公告增加可配置版本需求，仅特定版本之前（不包含）显示该公告
2. Config接口增加支持解析字典值为Config接口的子字段

## 其他
1. 登录完成后使用debug级别打印所有cookie，方便排查问题
2. 仅运行首个账号的调试开关打开时，关闭多进程和超快速功能
3. 调整公告测试脚本，本地测试时忽略版本限制

## 代码重构
1. first_run流程改为使用通用first_run逻辑
2. 实现新的first_run逻辑，从而避免在db.json损坏时再次判定的问题
3. 公告的枚举改用新的实现方式
4. 配置接口封装从json文件读取配置和保存配置到json文件的方法
5. 重构db模块。尽可能分布到不同文件，降低多进程同时操作时损坏的概率；同时调整接口，附带结构化信息，更加易用
6. 将原有db模块使用处替换为新的db模块
7. 重构登录测试脚本

# v10.15.6 2021.6.25
## 流程优化
1. 付费提示弹窗和卡密弹窗仅在运行结束前的时候才进行弹窗，避免中途卡住
2. 调整提示firstrun的提示时机到检查完绑定道聚城角色后，并改为异步操作，确保在看弹窗的同时，活动可以继续跑（用以应对超快速模式下db文件损坏而导致会经常运行这段逻辑）
3. 增加是否程序结束前检查更新的配置

## bugfix
1. 修复未启用的账号仍会登录的问题

## 代码重构
1. 将firstrun相关逻辑移到单独的文件中，并增加异步接口

## 配置工具
1. 购买dlc的按钮额外弹窗，确保是要购买这个东西

## 其他
1. 因leancloud api使用数达到上限，先干掉dlc的上报

# v10.15.5 2021.6.24
## bugfix
1. 修复初始化db会报错的问题

# v10.15.4 2021.6.24
## bugfix
1. 修复wegame0603活动的15天签到因flowid填错而无法正常领取的问题

# v10.15.3 2021.6.23
## bugfix
1. 修复检查dlc时可能登录信息会被最近加的load时重置逻辑干掉的问题

# v10.15.2 2021.6.23
## 活动维护
1. 奥兹玛活动的通关次数每天都可以领，增加兼容这个情况，从而实现每天领取每个打过奥兹玛的角色的通关次数奖励~

# v10.15.1 2021.6.23
## 流程优化
1. 新增禁用分享的配置，开启后将禁用该账号基本不会发送分享消息

## bugfix
1. 修复道聚城领取手游礼包时会报错的问题

## 文案调整
1. 反馈时提示截完整

# v10.15.0 2021.6.23
## 活动维护
1. 接入 超级会员 活动
2. 接入 QQ空间黄钻 活动
3. 奥兹玛活动增加切换当前服务器所有达到100级的角色来尝试领取抽奖次数（需开启自动绑定活动和强制同步道聚城绑定功能）

## 健壮性
1. 检查pskey兼容集卡挂掉的情况

## 文案
1. 修改默认账号名
2. 配置工具新建账号时增加检查是否未填写账号名称
3. 配置工具创建账号时添加默认账号名

## 流程优化
1. 扫码模式下至少需要等待600秒，确保有足够时间扫码

## 配置工具
1. 增加幸运勇士和会员关怀的角色id选择界面，降低获取角色id的门槛

## 代码重构
1. 封装常用的uin和qq函数
2. 改造查询角色接口，增加返回角色列表
3. ComboBox增加封装点击事件
4. 增加角色选择器组件

## 其他
1. 角色信息示例补充dnf的

# v10.14.0 2021.6.22
## 流程优化
1. 新增强制与道聚城绑定同步的配置，若开启，则当自动绑定的活动当前绑定角色与道聚城的不一致时，将同步修改为对应角色，从而实现快速修改活动领取角色

## 活动维护
1. 补充需要自行完成的活动列表

## 其他
1. 调整卖卡后的付款提示

# v10.13.1 2021.6.21
## 其他
1. 鉴于四群快满了，更新QQ群为五群

# v10.13.0 2021.6.21
## 界面优化
1. win7系统下运行时，强制修改命令行缓存区大小，确保最大化时可以铺满全屏幕

## 活动维护
1. 更新漫画活动的可领取集数

# v10.12.0 2021.6.20
## 活动维护
1. 新增 KOL 活动

## 其他
1. 添加解析amesvr的cond和jifen的通用函数

# v10.11.1 2021.6.19
## 流程改动
1. 若当前没有有效的管家活动，则不尝试更新p_skey
2. 启动时尝试检查管家pskey

## 提示
1. 增加若干周年庆相关提示

# v10.11.0 2021.6.18
## 活动维护
1. 接入 新的colg活动的签到功能

## 流程调整
1. dnf落地页分享仅尝试触发一次
2. 调整仅单个账号时，多进程和超快速模式的处理规则

# v10.10.0 2021.6.18
## 活动维护
1. 新增 wegame周年庆 活动
2. 新增 dnf集合站周年庆 活动
3. 接入 dnf官方论坛周年庆兑换 活动
4. 接入 马杰洛 活动
5. 增加提示手动领取生日礼

# v10.9.0 2021.6.17
## 活动维护
1. 新增 DNF周年庆登录活动 （为了保持仪式感，默认不开启自动领取，如需该功能，请前往配置工具自行开启~）
2. 增加 腾讯漫画 活动
3. 新增 dnf落地页 活动
4. 新增 我的dnf13周年 活动
5. 新增 刃影预约活动
6. 新增 dnf口令码 和登录游戏活动
7. 新增 DNF奥兹玛竞速 活动
8. 添加 新管家活动
9. 部分活动请按照提示自行完成

## 登录
1. 增加获取管家的access_token和nickname
2. 管家skey增加版本号并调整使用结构体

## 文案调整
1. 调整幸运角色提示语

## 其他
1. windows环境下最多允许60个pool

## 基础设施
1. 弹窗增加配置是否仅展示单次
2. 小提示增加单次弹窗
3. post增加支持json参数

# v10.8.0 2021.6.15
## 优化
1. 新增超快速模式，可同时运行各个不同账号的不同活动

## 流程优化
1. 增加检测幸运角色id配置为昵称的情况
2. amesvr请求增加检查是否请求速度过快

## 文案调整
1. 配置工具中角色ID强调不是角色名称
2. 请求出错时打印最后一次收到的原始回包

## 代码优化
1. 确保使用装饰器后仍能获取原始函数信息

# v10.7.2 2021.6.14
## 配置工具
1. 配置工具增加助手相关信息的英文，避免不知道对应哪个字段
2. 增加校验token长度，若填了且长度不为8，则弹窗提示
3. 编年史开关时调整需要的字段信息

## 流程优化
1. 启动时默认不检查管家信息，等实际运行到的时候再调用，这样可以在活动未启用时不必弹出该窗口

# v10.7.1 2021.6.12
## bugfix
1. 修复dnf编年史领奖时提示登录态过期的问题

## 其他
1. 更新黑名单

# v10.7.0 2021.6.11
## 活动维护
1. 增加 dnf十三周年 活动

# v10.6.1 2021.6.11
## 配置工具
1. 从具体qt库引用，而不是直接从QT大入口引用，避免打包的配置工具大小大大增加

# v10.6.0 2021.6.11
## 活动维护
1. 添加DNF漫画活动（预约阶段）
2. 移除过期活动

## 配置工具
1. 调整重新读取配置为自动重启
2. 增加继承旧版本配置功能
3. 配置工具新增付费指引和使用教程的指引按钮
4. 配置工具增加支持高分辨率屏幕（如4k屏幕），可配置开启

## 健壮性
1. 兼容读取主进程创建的日志文件名文件时可能出错的情况，避免后面运行报错

## 文案调整
1. 增加额外的异常说明
2. 调整道聚城绑定提示，更进一步傻瓜化（再问请自行删除工具和退群）
3. 配置工具送卡QQ增加额外提示，更进一步傻瓜化（再问请自行删除工具和退群）

## 文档
1. 更新部分文档内容

# v10.5.0 2021.6.5
## 活动维护
1. 新增 DNF福利中心口令码

# v10.4.0 2021.6.4
## 活动维护
1. 新增 dnf集合站 活动
2. 新增 qq视频 活动
3. 新增 wegame 活动

# v10.3.1 2021.6.3
## 兼容
1. 重新使用python 3.8.7版本打包，因为python3.9.5打包出来部分电脑会提示丢失dll无法启动

# v10.3.0 2021.6.3
## 活动维护
1. 接入新的集卡活动
2. 移除过期活动

## 流程优化
1. 多进程登录和运行时，各进程升序等待一小段时间，避免开始时的输出混在一起
2. 增加禁用命令行快速编辑功能，从而避免电脑小白点选鼠标进入快速编辑模式时误以为是程序卡住了而不知所措（默认禁用，可配置启用）
3. 增加检测是否在pycharm中运行，并在检测到时不尝试最大化窗口，避免IDE卡住
4. 将活动概览移到外部，只显示一次

## 文案
1. 完善付费提示信息
2. 登录报错处增加打印版本号，方便一眼从截图中看出版本
3. 调整多进程运行时的提示格式
4. 将抽卡的注释中的中英文分开，方便一键选择
5. 调整使用便携版或自带版chrome的颜色

## 代码重构
1. 将活动概览和免费活动抽为单独的函数
2. 统一过期活动的写法

## 其他
1. 检查chrome是否ok时关闭chrome的日志
2. 修正错别字
3. 发布时额外移除requirements.txt

# v10.2.4 2021.5.30
##登录流程
1. 修复仅单个账号或未开启多进程模式时不会检查chrome相关内容而导致无法正常使用的问题

## 公告
1. 公告增加过期时间

# v10.2.3 2021.5.29
## 登录流程
1. chrome的检查和自动下载流程在登录前进行，避免多进程登录时同时下载文件导致文件损坏
2. 实际登陆时不再尝试下载和解压chrome相关内容，避免冲突

# v10.2.2 2021.5.28
## 登录流程
1. 改用集卡接口来判定pskey以修复检查pskey时会卡住的问题，因为征集令活动已过期，无法用于判断pskey是否过期

## 流程变更
1. 按需下载chrome_driver，以应对强制设置chrome版本的情况

# 文案
1. 补充提示，指引强制修改chrome版本号

## 其他
1. 默认配置不再兑换道聚城的疲劳药

# v10.2.1 2021.5.28
## 活动维护
1. 修复管家页面登录失败的问题

## 文案
1. 调整未找到自动更新dlc时的提示

# v10.2.0 2021.5.28
## 活动维护
1. 修正编年史时间
2. 移除部分过期活动

## 配置工具
1. 配置工具增加道聚城兑换券

## 公告
1. 公告标题栏增加序号

## 流程改动
1. QQ空间获取数据若失败，则尝试多次
2. 当未找到合适版本的chrome时，先尝试从网盘下载对应版本便携版压缩包
3. 鉴于chrome最近开始强制升级到91版本，同步升级小助手的chrome版本到91版本

## 其他
1. 移除过期的一些tip
2. act活动的文件缓存改为一周，并使用之前封装的缓存模块

# v10.1.0 2021.5.21
## 活动维护
1. 接入 马杰洛第六期 活动

# v10.0.5 2021.5.19
## bugfix
1. gitee根据tag解析版本号时仅考虑特定格式的tag

## 代码健壮性
1. 所有直接用到requests的地方全部增加设置超时
2. 当从网盘查询付费信息失败时，尝试由服务器代理查询

## 其他
1. 发布时utils下部分内容无需发布

# v10.0.4 2021.5.15
## 代码健壮性
1. 优化蓝奏云的域名选择策略
2. 处理一个可能造成卡死的问题

## bugfix
1. 修复短期最后一次重试登录时下标溢出的问题

## 其他
1. 将蓝奏云api相关代码纳入管理（v2.6.5)

# v10.0.3 2021.5.14
## bugfix
1. 修复一个QQ同时作为附属QQ和主QQ出现时，会以后出现的为准，而不是后过期的为准的bug

## 配置工具
1. 配置工具默认增加道聚城的三种契约兑换配置
2. 修正编年史兑换奖励名称

## 健壮性
1. 调整备选url

# v10.0.2 2021.5.12
## bugfix
1. 编译时库用错了

# v10.0.1 2021.5.12
## bugfix
1. 增加兼容默认域名无法访问的情况

## 新增功能
1. 增加公告模块

## 代码重构
1. 调整调整历史文件前缀的默认值约定，默认不传入时视为当前文件名，其余情况需要特别传入该值
2. 封装同步消息逻辑

## 其他
1. 添加黑白棋ai代码-。-
2. 增加统计每日付费使用情况

# v10.0.0 2021.5.7
## 安全重构
1. 移除代码中涉及的蓝奏云cookie（已失效），客户端使用时改用不需要登录的接口进行下载，避免发布的打包版本被恶意替换

# v9.7.0 2021.5.7
## 活动维护
1. 接入新的 管家蚊子腿 活动
2. 添加 dnf强者之路 活动

# v9.6.0 2021.5.6
## 活动维护
1. 接入新的官方论坛兑换活动
2. 移除部分过期活动

## 文案调整
1. 增加最大最小化的功能提示
2. 调整助手活动的日志配色

## 流程调整
1. 助手活动检测到token过期时直接抛异常，不执行后续流程
2. 小游戏增加倒计时

## 配置工具
1. 重新显示助手配置开关
2. 点击付费按钮后重置cache

## wegame api
1. 增加设置indent
2. 增加按区服和名称筛选角色的示例

# v9.5.0 2021.4.29
## 活动维护
1. 新增 助手活动

# v9.4.3 2021.4.27
## 流程调整
1. 电脑管家模式不尝试短时间重试

## 文案调整
1. 增加补充说明查询时的缓存机制，提示迟一会查询
2. 电脑管家登录失败时额外提示如果一直失败就关闭管家活动

# v9.4.2 2021.4.26
## 文案调整
1. 关闭自动更新的时候增加提示
2. 标题栏增加展示付费剩余时长
   
## 流程调整
1. 登陆增加传入参数，可设置窗口逻辑顺序，方便多个账号时可以分别展示在不同区域
2. 调整重试逻辑，分为两阶段，第一阶段在失败后等待片刻后继续尝试，总计10次，用于处理短时间内登陆过多的情况。若全部失败后则进行第二阶段，等待较长时长后再开始新一轮
3. 基于经验迭代的等待时长逻辑提取为通用逻辑
4. 可配置仅启动单个实例，默认开启，确保不会因开启多个实例而导致自动更新失败

## 其他
1. 查询某个账号付费信息时，合并多个来源的信息时，同时考虑关联的各个qq的信息，从而能够通过不同来源来添加账号

## 适配github action
1. 特殊处理倒计时，在github action环境下不输出中文
2. github action环境下不倒计时，直接sleep

# v9.4.1 2021.4.23
## 活动维护
1. 新增 dnf福利兑换 活动
2. 移除部分过期活动

## 文案
1. 账号概览增加打印马杰洛石头数目

## 流程调整
1. 调整默认登录重试参数

# v9.4.0 2021.4.22
## 活动维护
1. 新增 心悦51 活动
2. 新增 qq视频 活动
3. 新增 马杰洛 活动

## 文案
1. 调整配置工具付费区域的样式
2. 登录时补充一些背景信息

## 流程改动
1. 增加自适应的首次重试时长，基于历史成功重试的时长来平滑变化

## bugfix
1. 修复spinbox设置初始值时因尚未设置范围而无法正确设值的问题
2. dnf格斗大赛多次抽奖间等待5秒，避免提示操作太快

## 基础设施
1. 重构上传函数的写法，方便后续维护

# v9.3.0 2021.4.21
## 活动维护
1. 新增 dnf格斗大赛 活动

## 文案调整
1. 调整倒计时名称长度，避免一闪一闪的
2. 增加释放chrome时的日志

## 流程调整
1. 先释放chrome实例，再尝试等待下一次登录
2. 福签邀请奖励一周只尝试领取一次

# v9.2.0 2021.4.20
## bugfix
1. 结束时的账号概览被误删除，加回来
2. 修复福签大作战领取已邀请好友时会漏掉部分的问题

## 文案调整
1. 调整付费信息文案和格式
2. 增加打印当前所有免费和付费活动列表
3. 完善未发现dlc的提示
4. 交换小提示和付费信息的位置
5. 调整付费卡住时的提示
6. 登录日志补充当前登录账号的上下文
7. 增加显示登录成功还是失败
8. 登录成功失败显示不同颜色
9. 等待重试下一次登录前展示倒计时
10. 调整登录失败的异常描述

## 流程优化
1. 只配置单个账号时不启用多进程功能
2. 心悦操作最少等待5秒
3. 多进程模式下若存在便携版压缩包，且未解压，则预先在主进程中解压，避免多进程下同时解压冲突
4. 增加提前若干天提示付费过期的设置
5. 调整登录阶段的默认超时时间
6. 等待登录按钮消失最多等待两次
7. 下载付费信息文件增加缓存，暂定为10分钟
8. 登录失败和等待登录按钮消失时不同等待次数等待不同时间，其中最后一次不等待

## 代码重构
1. 重构活动运行框架，方便后续维护

## 基础设施
1. 增加封装通用的缓存逻辑
2. 增加倒计时流程

## 其他
1. 调整QQ群为四群

# v9.1.0 2021.4.17
## 流程调整
1. 查询付费信息时先尝试获取压缩版本，加快查询速度
2. 鉴于在无法访问github的情况下，会fallback到gitee查询是否有新版本，因此可以选择将手动检查更新流程放到最开始
3. 有自动更新DLC的时候不再尝试访问github确认是否有更新

## 工具
1. 上传时增加同时上传压缩版本的选项，而下载时可以配置优先下载压缩版本的选项

# v9.0.3 2021.4.17
## 黑名单
1. 增加黑名单

# v9.0.2 2021.4.17
## bugfix
1. 修复查询付费信息时会卡住的问题

## 流程调整
1. 减少一次查询付费信息的行为
2. 登录时，若首次失败了，后续尝试时一律关闭隐藏浏览器模式，方便查看为问题所在
3. 增加显示蓝奏云的日志

## 集卡
1. 可配置在集卡最后一天用所有卡牌来抽奖

## 活动维护
1. 移除过期的qq视频活动
2. 调整编年史时间

# v9.0.1 2021.4.15
## bugfix
1. 修复部分账号未开启集卡功能时，集卡流程会报错的问题

## 其他
1. 部分函数增加异常保护

## 格式调整
1. 登录日志增加账号名，方便在多进程模式下识别到底是哪个账号的日志
2. 调整日志文件的格式，增加打印进程信息，方便单独过滤出某个账号的运行日志进行分析

# v9.0.0 2021.4.14
## 多进程模式
1. 登录（若全部账密模式）、账号概览、集卡概览、自动送卡、多账号运行支持多进程模式，可通过配置开关调整（默认打开）

## 活动维护
1. 接入 心悦app兑换功能（测试阶段）（配置方式自行查看示例配置文件，搜索 xinyue_app_operations ，配置比较复杂，因此请自行研究

## bugfix
1. 修复dlc赠送时长有问题的bug（精确定义为62天与2.8至实际付费结束时间之内的累积未付费时长之差）

# v8.9.3 2021.4.12
## bugfix
1. 修复没有奖励时pak是False的问题
2. 调整自动更新DLC赠送的2.8-4.11两个月的计算方式，确保计算结果始终如一

## 活动维护
1. 移除过期的马杰洛活动

# v8.9.2 2021.4.5
## bugfix
1. 修复心悦战场查询特定队伍信息时出错的问题

## 提示
1. 当colg活跃值达到650的时候，提醒领取灿烂

## 优化
1. 在无法访问github的情况下，使用gitee的api作为fallback，用于判定是否需要更新

# v8.9.1 2021.4.3
## 黑名单
1. 更新黑名单

## 其他
1. 自动登录时将chrome静音

# v8.9.0 2021.4.3
## 活动维护
1. 接入新的 hello语音奖励兑换 活动，活动任务本身需要自行完成，或者通过autojs等辅助脚本来实现自动化
2. 接入新的 心悦战场 活动
3. 接入 colg领灿烂活动的每日签到 流程

# v8.8.2 2021.4.1
## bugfix
1. 修复因版本时间格式变更而导致启动时异常退出的问题

# v8.8.1 2021.4.1
## 活动维护
1. 接入新的会员关怀活动（仅QQ被判定为幸运玩家才可以领取~）

# v8.8.0 2021.3.31
## 活动维护
1. 接入新的 管家蚊子腿 活动

# v8.7.2 2021.3.31
## 活动维护
1. 兼容心悦战场活动过期的情况

# v8.7.1 2021.3.30
## 活动维护
1. 增加福签索要和接收福签索要，并增加相应的scode列表（需自行参考示例文件来编辑配置文件）

# v8.7.0 2021.3.29
## 活动维护
1. 接入新的 qq视频 活动

# v8.6.2 2021.3.28
## 活动维护
1. 移除管家登录
2. wegame需要先签到再领奖

## 文案
1. 调整付费信息时聊天QQ和游戏QQ的名称，改为主QQ和附属QQ
2. 调整集卡结束时间的提示

# v8.6.1 2021.3.26
## bugfix
1. 修复因蓝奏云下载文件的问题导致查询付费信息会出错的问题

## 其他
1. 新增账号级别配置，是否仅使用配置中设定的心悦操作，若设定为true，则不会在运行时将所有心悦任务都尝试完成一遍
2. 增加同步到gitee的action
3. 管家蚊子腿已过期

# v8.6.0 2021.3.25
## 新活动
1. 增加 黑鸦落地页 活动
2. 适配 新的DNF福利中心兑换和登录 活动
3. 接入 新集卡 活动
4. 接入 福签大作战 活动
5. 新增 DNF黑鸦竞速 活动
6. 新增 dnf集合站 活动
7. 新增 wegame 活动

## 其他
1. 不论是否付费过，都弹出一次卡密支付的提示引导，确保有付费意愿的人可以看到这个

# v8.5.1 2021.3.19
## 新活动
1. 小助手增加319微信答题活动提示

## 显示调整
1. 调整马杰洛卡片的显示宽度

## 文案调整
1. 长期检查更新失败的提示增加dlc用户无视的提示

# v8.5.0 2021.3.18
## 付费
1. 配置工具接入基于卡密付费的自助付费方案
2. 综合卡密与手动添加的名单生成最终结果
3. 付费指引文档中增加卡密付费的图文教程
4. 付费用户首次运行新版本时提示后续付费可通过卡密自助完成

## bugfix
1. 修复配置工具添加新账号后，心悦战场相关操作默认不执行的问题
2. 修复若普通付费已到期的情况下，自动更新赠送的时长叠加后最终过期时间每天都会提前的问题

## 显示优化
1. try except将函数参数一起打印出来，方便排查问题
2. 登录抛异常的地方增加打印管家的提示，不然可能看不到
3. 启动后增加打印当前生效的账号列表

## github action
1. 增加在github action运行的yml，并在代码中特殊适配该环境（实际效果不好，因为主机在美国，网络访问基本全超时）
2. 增加是否在github action线下启用特定账号的流程

## 其他
1. 增加检查qq是否有效的函数
2. 心悦组队加上开关限制

# v8.4.0 2021.3.11
## 活动维护
1. 接入马杰洛的规划 第四期

## 文案调整
1. 调整检查更新提示语
2. 更新文档描述
3. 文档增加使用配置工具的指引
4. 调整基于github检查更新失败时的提示
5. 增加管家登录卡住的提示

## 配置工具
1. 配置工具启用编年史开关
2. 调整配置工具token的描述

## 其他
1. 登陆期间禁用selenium和urllib的调试日志，减小日志大小

# v8.3.1 2021.3.9
## 管家登录
1. 管家页面登录按钮出现后并不能直接点击，需要等待几秒，确保完全加载后才能点击

# v8.3.0 2021.3.8
## 活动维护
1. 接入新管家活动

# v8.2.0 2021.3.8
## 流程优化
1. 允许配置使用特定大版本的chromedriver与chrome，以应对部分电脑上使用新版本会稳定出现问题的情况-。-
2. 点击加群按钮额外弹出二维码图片
3. 调下查询活动超时，避免部分人查询失败的时候会卡很久（活动数目*3*超时时间）
4. 若目录下存在 不查询活动.txt 文件，则不会查询活动信息，避免卡在那一步

## 文案调整
1. 完善浏览器版本不匹配的提示
2. 调整chrome版本变更时的提示
3. 增加提示下载各种小工具的地址

# v8.1.0 2021.3.4
## 活动维护
1. 助手编年史增加领取未接取的任务

## 显示内容
1. 个人信息页面增加展示编年史相关信息

## 浏览器
1. 更新使用chrome89版本

# v8.0.0 2021.3.2
## 登录模块重构
1. 部分活动的登录网页改为直接访问对应登录框的页面，加快打开速度，避免加载不必要的活动页面，同时可以简化找到登录框和判定登录成功的流程
2. 使用app模式打开chrome，界面更加简洁
3. 封装打开url的函数，检测启动chrome后首次访问页面失败而地址栏仍为data:，继而卡在这一步的情况，并重试
4. 需要重新登录时在tab title处显示登录信息，不再弹窗
5. 启动时设置窗口初始大小参数
6. 福袋大作战已过期，不再需要该域名下的pskey

## 活动维护
1. 启用心悦app G分相关活动（理财礼卡、周礼包、心悦猫咪）（用于获取心悦G分，可在app兑换复活币、契约等道具）
2. 接入三月的助手编年史活动（未正式开放，无法领取游戏道具奖励）
3. 移除若干过期的活动

## 活动状态
1. 非ams活动也增加活动时间描述，方便看各个活动的时间
2. 获取ams活动信息增加缓存，加快搜索速度
3. 增加调用非ams活动信息接口来显示活动信息

## 文案调整
1. 调整网络问题提示
2. 调整付费活动提示语
3. 增加心悦G分相关的说明

## 显示内容
1. 增加打印每个账号登录耗时
2. 增加打印单个账号的运行活动时长
3. 个人信息页面增加展示心悦G分

## 基础设施
1. 重构try_except装饰器，允许从外部传入参数，方便定制化
2. try_except增加配置出异常时的默认返回值

## 黑名单
1. 鉴于态度良好，移除部分名单

## 其他
1. 集卡抽奖增加判定是否存在角色
2. 完善集卡的启用和废弃流程，补充上判断是否需要检查p_skey的地方
3. 判断回包是否成功的函数特殊处理status
4. 将默认值区分为有值和无值，方便后续添加新的无值的默认参数

# v7.1.2 2021.2.25
## 黑名单
1. 更新黑名单（请不要二次贩卖哦-。-被我发现一律拉黑）

## 流程优化
1. 增加检测重复登录账号的情况
2. 扫码登录开始前弹窗提示当前需要扫码登录的账号名，避免扫码登陆了预期以外的账号
3. 增加小助手与配置工具的协作机制，确保通过配置工具启动小助手时，仅在配置工具完成退出后才会开始小助手的正式流程

## 活动维护
1. 移除过期活动（闪光杯、新春夺宝大作战、新春福袋大作战、马杰洛的规划、燃放爆竹）

## 文案调整
1. 不再显示集卡特别版DLC促销信息
2. 调整自动更新提示
3. 调整检查更新提示

# v7.1.1 2021.2.24
## 文案调整
1. 活动描述过期和未过期采用不同的文案

## bugfix
1. 修复运行时，若只包含exe或源文件名称（如在bat文件中通过python main.py的方式来启动等），不包含路径时会无法正常启动的问题

# v7.1.0 2021.2.24
## 配置工具
1. 添加自动启动和取消自动启动的按钮（基于注册表实现）
2. 小助手启动前强制修改工作目录为程序所在目录，方便开机自启和使用任务计划程序定期运行（这样即使未设置工作目录也可以正常运行了）
3. 新增其他功能的tab，放置部分按钮
4. 调整付费信息按钮，按照pyqt的风格将其逻辑在单独的线程中运行，避免阻塞ui主线程，并增加进度提示

## 文案调整
1. 调整付费提示的文案

# v7.0.15 2021.2.22
## 黑名单
1. 更新黑名单
2. 移除部分脚本，不再加入版本管理系统

## 显示优化
1. 增加展示部分通用活动的活动时间信息
2. 账号概览前展示当前生效的部分通用活动的信息
3. 配置工具：论坛字段增加补充说明

## 流程优化
1. 兼容skey缓存损坏的情况

# v7.0.14 2021.2.21
## 显示优化
1. 增加备份最后一次请求的结果，方便在出错时打印出来

## 配置
1. 配置文件中燃放爆竹的抽奖开关名字填错了

# v7.0.13 2021.2.20
## 其他
1. 二群人满了，调整二维码和加群按钮为三群

# v7.0.12 2021.2.17
## 配置工具
1. 修正配置工具默认登录方式是手动登录的问题，改为默认扫码登录

## 显示优化
1. 账号信息增加打印马杰洛石头数目

# v7.0.11 2021.2.17
## bugfix
1. 修正自动更新的免费时长的结束时间点

## 其他
1. 调整购买信息的文案

## 流程调整
1. 燃放爆竹抽奖后等待五秒

# v7.0.10 2021.2.16
## 配置工具
1. 由于容易卡住，取消标题栏新版本检测
2. 修复在使用noconsole打包时，调用os.popen打开图片会异常退出的问题

# v7.0.9 2021.2.14
## 配置工具
1. 保存时也要对config做特殊处理
2. 添加新账号后默认切换到新账号的tab

# v7.0.8 2021.2.14
## 配置工具
1. 账号配置中未配置道聚城兑换相关配置时，默认添加兑换次数为0的条目，确保相应配置会显示在界面上

# v7.0.7 2021.2.14
## 其他
1. 增加可配置的日志清理流程，避免日志目录越来越大。当日志大小超出指定值（默认1024Mib）时，按时间顺序，清理日志，直至剩余日志大小不超过指定值（默认512MiB）

# v7.0.6 2021.2.14
## 配置工具
1. combobox取消滑轮滚动功能，避免误操作，比如划过日志级别，把日志级别误改为很高，结果不能显示任何字

# v7.0.5 2021.2.13
## 流程优化
1. 标题附加新版本提示改为异步处理，避免打开时卡住

# v7.0.4 2021.2.13
## 配置工具
1. 增加个人信息页面

# v7.0.3 2021.2.13
## 提示优化
1. titile获取更新信息失败时日志级别改为debug

## 配置工具
1. 增加加群按钮

# v7.0.2 2021.2.13
## 配置工具
1. 界面加几个按钮

## 提示优化
1. 标题栏增加新版本提示

## 其他
1. 调整助手登录态过期的判定方式

# v7.0.1 2021.2.12
## 配置工具
1. 处理spinbox容易被滚轮误改动的问题，改为滚动不能focus，且未focus时不处理滚轮事件
2. 修复保存第二个账号会panic的问题

# v7.0.0 2021.2.12
## 配置工具
1. 鉴于这几天付费支持的朋友不少，因此特地花了不少时间，做了一个配置工具，各位可双击【DNF蚊子腿小助手配置工具.exe】进行体验（恰饭恰饱了才有力气干活.jpeg）

# v6.0.4 2021.2.9
## 付费相关
1. 增加付费指引.docx文档
2. 展示付费信息时额外打印游戏QQ

## 流程调整
1. 部分弹窗改为异步执行
2. 助手信息补充提示增加单次的弹窗，方便注意到。若是token过期，则增加单日单次的弹窗。
3. 编年史任务相关说明增加单次的弹窗

# v6.0.3 2021.2.8
## 调整付费流程
1. 鉴于目前的付费流程下，每日花在这个上的时长太大了，因此将调整付费流程
2. 通用：付费后私聊我付款截图、付费内容、实际要使用的qq（可以是多个），处于账号安全考虑，所有消息都不再回复，可通过下列付费内容的判断条件来确定是否生效，一天内仍未生效再联系我即可。
3. 自动更新DLC（一次付费10.24元）：不再单独拉群，直接下载群里的auto_updater.exe，放到utils目录下，我看到你的消息后会把你加入到名单中。有权限后启动时将不再弹出提示未购买自动更新dlc的弹窗。若发消息一天后仍未激活，很可能是我看漏了，再私聊我一下。
4. 按月付费使用2.6之后的短期活动（每月31天5元）：我看到消息后会直接加入到名单中。可通过账号概览中的付费信息来判断是否购买成功。一天后仍未加入，就是我看漏了，再联系我一下

# v6.0.2 2021.2.8
## bugfix
1. 修复未购买付费内容的dlc用户无法获取免费的两个月时长的bug
2. 兼容编年史连续签到的奖励列表可能返回null的问题

## 提示优化
1. 个人信息增加打印累计购买数据
2. 购买记录增加reason，区分获取来源
3. 调整付费信息配色

# v6.0.1 2021.2.6
## 付费
1. 购买过自动更新DLC的用户可以获得自2020-02-07 00:00:00开始累计两个月的免费使用付费功能的时长

# v6.0.0 2021.2.6
## 付费
1. 2.2号添加了一个付费弹窗，但是截至2.6晚上六点，仅有不到百分之一的使用者进行了付费。考虑到近日来花在维护小助手上的时间比较久，因此本人决定，自2021-02-06 00:00:00之后添加的所有短期活动都将只能在付费生效期间使用，此前已有的功能（如道聚城、心悦）或之后出的长期功能都将继续免费使用。目前定价为5元每月（31天）。使用源码运行将不受该限制，但是使用我的打包二进制时，只有付费生效期间才能运行上述日期后的短期新活动，各位可自行决定通过付费激活还是自己研究如何使用源码去运行~
2. 增加按月付费脚本

## 活动调整
1. 接入 dnf助手 牛气冲天迎新年 活动

## 流程调整
1. 因现在同一个好友只能赠送一次，调整马杰洛赠送好友和领取奖励功能（不会实际发消息）
2. 编年史兑换增加等级判断
3. 部分弹窗改为异步进行，不影响主流程

## 文案调整
1. 调整邀请好友相关的注释描述

## 其他
1. 燃放爆竹配置中漏了开关

## 基础设施
1. 调整ConfigInterface的序列化方式，改为通过转化为原生类型来操作，从而可以直接序列化为json


# v5.9.1 2021.2.3
## 流程调整
1. 当无法访问github的时候，判断距离上次更新是否已经很久，若是，则提示可能有更新内容

## 其他
1. 请求送一张Q版赛利亚卡片
2. 目录中增加网盘链接

# v5.9.0 2021.2.2
## 活动维护
1. 接入新的编年史活动
2. 接入新的管家活动
3. 接入新的qq视频活动
4. 增加qq黄钻和超级会员新活动的提示
5. 移除过期的 DNF共创投票、史诗之路来袭活动合集、hello语音网页礼包兑换 活动

## 恰饭
1. 移除大版本弹窗和每周弹窗
2. 每月首次运行时弹出打赏提示，依据小助手本月带来的便利和领取的蚊子腿数目，自行决定是否打赏，以及打赏金额。毕竟用爱发电不能持久，人毕竟是要恰饭的ლ(╹◡╹ლ)。如果每月有不少朋友支持的话，那么自然也更乐意抽出部分玩dnf的空闲时间来更新维护小助手啦。

## 代码重构
1. 重构管家活动，方便后续接入
2. 重构qq视频活动，方便后续接入

## 提示优化
1. 调整疲劳药注释

# v5.8.3 2021.1.31
## 其他
1. 更新黑名单

# v5.8.2 2021.1.31
## 活动维护
1. 燃放爆竹查询好友有时候会无法成功，故而本地加个缓存，一次请求所有好友QQ列表，这样只要请求成功一次就够活动期间使用了

# v5.8.1 2021.1.30
## 恰饭
1. DNF公众号扫码活动提示先取消关注公众号，然后再扫码，这样才能助力成功0-0

# v5.8.0 2021.1.29
## 活动维护
1. 新增 新的会员关怀活动（新春关怀送好礼 助力男法师三觉）
2. 调整爆竹活动分享任务，每次需要分享不同的好友（不会实际发送消息）
3. 重构会员关怀活动，简化接入新关怀活动流程

## 流程优化
1. 兼容下心悦信息查不到的情况

# v5.7.1 2021.1.28
## 恰饭
1. 首次运行时请求用小助手的朋友们帮忙扫下DNF公众号活动的二维码，点下关注

# v5.7.0 2021.1.28
## 活动维护
1. 新增 燃放爆竹 活动

## 流程优化
1. 增加检测数据库是否损坏的流程，并自动初始化
2. 抽取结束时间提示为通用流程

## 提示优化
1. 报错时在末端也打印额外信息，方便看到
2. 打印个人信息时尝试截断，确保显示符合预期

# v5.6.4 2021.1.27
## 活动维护
1. 移除过期活动

## 提示优化
1. 账号信息增加打印赛利亚卡牌
2. 调整绑定时的配色，更加易读

## 其他
1. 似乎很多人找不到付款码，增加复制一份付款码，并命名为DLC付款码
2. 增加清除登录信息的批处理文件
3. lean cloud api又到上限了，仅保留活跃用户数的上报和统计

# v5.6.3 2021.1.24
## 恰饭
1. 首次运行时请求帮忙做下叶子猪的分享活动（进去填手机和qq，再戳下生成专属链接按钮）

# v5.6.2 2021.1.23
## 活动维护
1. wegame活动改了地址和内容
2. 新增福利兑换口令

# v5.6.1 2021.1.23
## 活动维护
1. 新增 DNF新春福利集合站 活动

# v5.6.0 2021.1.23
## 活动维护
1. 新增马杰洛第三期
2. 增加新春福袋大作战的赠送功能，但是由于会真的发消息（这次真的是真的）给对方，所以请自行探索配置方式，若无头绪则可当这个功能不存在

## 流程
1. 各个活动统一增加try except装饰器保护，从而避免单个活动的问题导致其他活动也无法运行
2. try_except判断一些常见的错误，并增加更容易理解的补充说明

## 其他
1. 首次运行新春福袋大作战时弹出福袋提示框

## 基础设施
1. amesvr_request增加支持传入额外cookies

# v5.5.2 2021.1.21
## bugfix
1. 处理无存档时的情况

## 提示优化
1. 特判没找到modRet的情况，提示可能是活动过期了

# v5.5.1 2021.1.21
## bugfix
1. qq空间登录也需要获取skey后，若是旧版本存档，视作已过期

# v5.5.0 2021.1.21
## 活动维护
1. 重新启用福利兑换，并增加新的游戏签到活动
2. 增加 提示参与 万物皆新意 牛转阿拉德 活动
3. 新增wegame春节活动 新春献豪礼 首次盲盒限时领
4. 新增新春福袋大作战的邀请外内容
5. 移除过期的马杰洛活动

## 流程调整
1. qq空间登录时额外保存skey、vuserid等信息，并优先进行qq空间登录。从而在检查skey的时候先尝试使用qq空间获取的skey，如果可用则能减少登陆次数

## 基础设施
1. 新增捕获所有异常的装饰器，用于保护新加的活动，避免因新活动导致其他活动不可用

# v5.4.2 2021.1.19
## 流程调整
1. 赠送完卡片尝试领取奖励

## 文案调整
1. 更新dlc检测提示文案
2. 新版本首次运行时打印更新说明，并提示自动更新对配置文件的处理方式
3. 调整浏览器说明，使其更加易懂
4. dlc购买提示中增加付款二维码位置提示

# v5.4.1 2021.1.18
## 流程调整
1. 仅在自动登录模式下检查switcher_plogin元素是否存在，以避免点击头像快捷登录会报错
2. 自动登录时额外增加一个提示
3. 自动登录和二维码登录的特有逻辑移到其登录函数中去处理
4. 移除need_human_operate参数

# v5.4.0 2021.1.18
## 活动维护
1. 新增DNF新春夺宝大作战
2. 重新启用hello语音兑换功能

## 自动更新DLC
1. 新增校验机制，仅本地登录所有账户中有任意账户在指定名单内才允许使用自动更新DLC

## 流程调整
1. 隐藏浏览器配置改为仅在自动登录模式下生效
2. iframe切换后等待一会，确保元素都加载出来

## 提示调整
1. dnf论坛补充说明
2. 论坛增加限定词，说明是官方论坛
3. 修改集卡时间
4. 调整基于github检查更新时请求失败时的错误提示

# v5.3.0 2021.1.15
## 新活动
1. 接入新的集卡活动 超萌雪人送祝福
2. 增加集卡特别版DLC

## 流程优化
1. qq空间登录完成后等待一会再刷新页面，避免处于未登录状态
2. 集卡概览改为只显示一次
   
## 提示调整
1. 若调用自动更新工具能正常返回，则说明已是最新版本，增加提示说明
2. 增加提示短信验证的情况，提示关闭自动处理验证码功能
3. 增加蓝奏云挂了时的提示信息
4. 完善关闭特定登陆类型的描述
5. 增加qq视频在线30分钟失败的提示
6. 修复因为>导致生成文件的问题

## 代码重构
1. 使用f-string重写各个字符串，增加代码可读性
2. 重构编译脚本，方便后续扩展

# v5.2.1 2021.1.12
## 自动处理滑动验证码
1. 修复若验证码相关元素未加载完毕的时候，获取不到对应宽度，导致后续死循环的问题

## 提示优化
1. 多次登录均失败后，显式跑出网络错误异常，并打印提示信息
2. 调整论坛签到重试逻辑
3. 根据测试结果，论坛已签到和成功签到的前缀不同，适配一下
4. 调整论坛配置的提示信息
5. 增加调整标题的功能

# v5.2.0 2021.1.11
## 自动处理滑动验证码
1. 新增自动处理滑动验证码功能
2. 新增滑动验证码开关和相关配置
3. 新增基于本地运行记录自动改进的尝试解锁方案

## 新活动维护
1. 增加dnf论坛签到以及兑换活动
2. 增加qq会员关怀活动

## 流程调整
1. 调整绑定检查逻辑，当发现未绑定时，提醒绑定后不直接退出，而是等待其绑定后尝试下一次检测
2. qq视频活动未绑定接入通用逻辑
3. 当道聚城未绑定dnf角色时，将不尝试自动绑定
4. 调整账号提示文案及日志颜色

## 提示优化
1. token说明分为两行，更容易阅读

## 其他
1. 若.no_max_console文件存在，则不在启动时最大化窗口
2. 若工作目录存在.min_console文件，则启动时自动最小化
3. readme增加使用镜像clone的方式

# v5.1.1 2021.1.9
## 自动绑定
1. 为支持自动绑定，各个amesvr活动的操作函数统一增加extra_params不定参数，用于传入绑定所需参数

## 活动维护
1. 移除过期的集卡活动

## 配置调整
1. 将账号密码相关配置往前挪，更容易定位
2. 修改默认账号名和密码提示

## 提示优化
1. 特殊处理qq视频的回包，这样结果可以更清晰

# v5.1.0 2021.1.9
## 自动绑定
1. 新增自动绑定新活动为道聚城绑定角色的功能，并默认打开

# v5.0.3 2021.1.8
## 活动维护
1. 新增qq视频-看江湖有翡活动

## 提示优化
1. 额外说明一下未获取到token的链接的情况
2. 额外说明助手活动需要token

# v5.0.2 2021.1.5
## 黑名单
1. 增加黑名单功能
2. 接入黑名单，不允许特定人使用本工具

## bugfix
1. 修复无法领取闪光杯每周闪光奖励的问题

## 提示优化
1. 自动更新启动成功时增加打印更新内容
2. 增加配置，可调整日志等级对应颜色（如不喜欢error级别的大红色，可以自行改为红色）

## 其他调整
1. 管家抽奖的错误码判定范围扩大
2. 投票活动超过200次后不再尝试投票

# v5.0.1 2021.1.3
## 显示优化
1. 账号概览增加展示上闪光杯出货数

## 配置调整
1. 增加全局禁用开关，方便小号关闭特定活动以外的所有活动

# v5.0.0 2021.1.2
## DLC：自动更新
1. 新增可付费获取的DLC：自动更新功能（未购买则保持与之前版本的更新流程一致）
2. DLC支持增量更新与全量更新

## 功能维护
1. 新增活动合集页面及指向的其他活动中的单次性奖励tips提示手动领取
2. 新增史诗之路来袭活动合集
3. 新增QQ视频蚊子腿（开启史诗之路 欢聚美好时光）
4. 移除过期的赛利亚打工活动
5. 移除过期的阿拉德勇士征集令活动
6. 移除过期的编年史活动
7. 移除过期的hello语音网页礼包兑换
8. 移除过期的DNF福利中心兑换活动

## 流程变动
1. 自动更新后首次运行时展示更新内容

## bugfix
1. 修复未启用道聚城且账号未绑定任意手游时会出错的问题

# v4.6.7 2020.12.31
## 提示优化
1. 检查未绑定账号时，将未绑定的账号列表打印出来
2. 修复闪光杯未报名时会出错的问题，并提示一下去报名
3. 更新抽卡结束时间
4. 修正多次登录出错时login_type会重复添加后缀信息的问题

## 流程优化
1. 管家登录兼容下出验证码的情况
2. 移除运行成功时弹出打赏图片的功能和配置，仅保留每周首次运行的时候弹一次的功能

## 自动更新
1. 添加自动更新所需的一些基础设施

# v4.6.6 2020.12.30
## 活动维护
1. 新增管家DNF暖冬献礼活动
2. 封装一下管家的活动，减少后面需要改的内容

## 提示调整
1. 增加展示漂流瓶历史累计分数
2. 漂流瓶发送邀请时额外根据回包判断是否到达上限
3. 增加展示闪光杯本周获得装备数目
4. 兼容处理漂流瓶领取邀请积分到达上限的情况

## 其他
1. 角色名统一进行url编码，避免包含特殊符号
2. log文件改为实际写入时才创建
3. 仅启用管家活动的时候才尝试获取管家pskey

# v4.6.5 2020.12.28
## 调整使用统计
1. 因LeanCloud免费计数达到上限（30k），导致无法准确计数，因此移除当前版本的使用计数，只保留所有版本的使用计数，额外留出一半的配额。

# v4.6.4 2020.12.28
## 活动维护
1. 开放闪光杯第三期功能
2. 移除过期的嘉年华活动

## bugfix
1. 通用填充逻辑处不统一施加urlencode，而是外部调用处去做这件事，避免某些不该encode的地方也被encode了
2. 中文参数需要编码一下

## 其他
1. 每周一弹出打赏图片前，额外弹出一段话，显示累积使用时长，以及说明信息
2. 将请求失败次数和等待时长最后打印

## 配置调整
1. 加长默认请求等待和重试时间

# v4.6.3 2020.12.26
## 新活动
1. 新增暖冬有礼活动

## 活动维护
1. 增加漂流瓶每日邀请列表（建议只填小号，因为真的会发消息给对方）(配置项默认不加入配置文件，有兴趣自行者自行看源码确认配置方式）
2. 增加马杰洛黑钻送好友邀请列表（建议只填小号，因为真的会发消息给对方）(配置项默认不加入配置文件，有兴趣自行者自行看源码确认配置方式）

# v4.6.2 2020.12.25
## 新活动
1. 适配闪光杯第三期（暂不开放）

## bugfix
1. 过滤参数加下兼容，当解析出错时，打印日志并返回原始url
2. 解决opened可能不存在的问题
3. 渲染url参数的时候，需要将value进行url encode

# v4.6.1 2020.12.25
## 新活动
1. 新增史诗之路活动的指引（太小了，只提示网页，不实际实现）
2. 新增dnf漂流瓶活动
3. 新增马杰洛的规划活动
4. 增加dnf双旦活动

## 恰饭
1. 当添加了多个活动的版本发布时，弹出一条恰饭信息

## 信息提示
1. 增加提示拉取点赞内容流程

## 重构代码
1. 抽取通用指引逻辑，并在命令行额外打印日志
2. 过滤未填充的参数，避免某些参数影响其他请求

# v4.6.0 2020.12.22
## 新活动
1. 增加支持心悦app理财礼卡活动（由于有个比较诡异的问题暂时无法确认根源，所以暂不开放给一般用户，有兴趣的朋友可以自己看源码发现开启的方式）
2. 增加2020DNF嘉年华直播活动（由于性质不太好，不开放给一般用户，有兴趣的朋友可以自己看源码）
3. 增加dnf福利中心兑换和三次签到功能
4. 增加dnf共创投票逻辑

## 配置改动
1. 调整开启消耗所有卡片来抽奖的配置方式，改为每个集卡活动单独配置，避免共用一个开关导致在上一个活动末期开启后，下一个活动启用时忘记了配置过这个，导致最初的卡片都被拿来抽奖的问题
2. 在示例配置文件中额外暴露两个集卡活动定制化配置
3. 修正cannot_bind_dnf拼写错误
4. 测试模式改为全局配置
5. 道聚城配置的config中默认值值改为0，避免有人直接删除这一项，却又不填

## ui调整
1. 使用彩色版图标
2. 调整console中log的显示格式，使其更加简洁，固定省去26字符宽度
3. 调整一下console配色
4. error和critical日志改为深红色

## 易用性
1. 配置工具bat中增加简要的背景知识提示
2. 调整便携版npp的注释/取消注释的快捷键为ctrl+/
3. 增加幸运角色的区服ID详细说明
4. 助手相关信息增加示例
5. 调整默认账号名称
6. 增加检测自动运行时未配置工作目录的情况
7. 展示抽卡状态时，增加提示集卡活动的截止时间
8. 增加展示抽卡所有账号汇总数据


## 测试
1. 测试逻辑突出显示账号信息
2. 测试代码增加处理禁用账号的情况
3. 分拆main函数和相关函数到两个文件，方便后续单独测试main文件的相关函数，而不必每次注释再取消注释
4. 测试函数增加一个开关，用于一键开启或关闭检查绑定和skey信息
5. 测试代码预先获取skey

## 代码调整
1. wx_checkin不再调用
2. try_request增加可选的检查函数，用于判定请求是否ok
3. 请求报错时，额外打印完整堆栈，方便得知究竟上层调用处是啥，否则直接打印异常信息时，因为在这里直接处理异常了，会导致上层的堆栈信息不打印出来
4. 增加配置接续jsonp的时候是否需要unquote
5. 请求赛利亚打工信息的时候，如果刚查询过工作日志，需要等待一会~
6. 解析jsonp的时候，右边界改为使用rindex查询，避免误处理到中间出现的分隔符

## 工具链
1. 更新pip的时候也使用豆瓣镜像
2. 调整供参考的安装依赖的批处理脚本

## 基础逻辑
1. 增加读取和更新特定账户db的逻辑

## 其他
1. 更新加群二维码



# v4.5.4 2020.12.17
## 代码重构
1. 重构ConfigInterface，并在子类中使用重构后的方法，简化相关结构体的使用流程
2. 重构集卡活动，改为配置驱动，减少日后适配新抽卡活动的工作量和降低上手难度
3. 增加启用和废弃集卡活动的流程说明

## 配置调整
1. 调整抽卡奖励的配置方式，改为配置是否领取，具体领取内容根据活动配置自动解析
2. 功能开关开启和关闭增加更明确的说明和示例
3. 由于经常有人把集卡赠送目标、赛利亚拜访目标、心悦固定队成员等QQ号数组填成数字数组，导致后续逻辑中由于类型不匹配而无法正常处理，这里兼容下，在读取完配置后都将其强制转换为字符串数组

## 新模块
1. 增加setting模块，并添加集卡的配置

## 心悦战场
1. 更新心悦活动备注
2. 调整默认配置中的心悦操作，增加各种兑换道具的示例，默认不开启

## ui
1. 增加打印运行耗时
2. 赠送卡牌的时候额外打印一下进度，更加直观

## 文档维护
1. 增加关闭功能的说明
2. 增加拒绝抬杠声明
3. 调整配置账号和手游的层级

## 其他
1. 其他软件中增加autojs脚本的说明
2. 更新readme
3. 增加账号是否处于安全模式的配置，并增加全区配置是否启用这类账户
4. 使用统一的enabled函数

# v4.5.3 2020.12.15
## 调整注释示例
1. 赠送卡片目标增加更加明确的示例
2. 赛利亚拜访活动也增加更明确的示例
3. 心悦固定队增加更明确的示例
4. 调整功能开关布局，改为按照鉴权类型来分区

## 工具链
1. 新版本时改为由脚本一起提交版本变更相关文件

# v4.5.2 2020.12.14
## 集卡
1. 调整赠送卡片的配置描述，增加描述赠送行为的基本策略
2. 若账号配置为赠送目标，则不再作为其他账号赠送卡片的来源

# v4.5.1 2020.12.14
## 活动维护
1. 适配新的集卡活动-阿拉德勇士征集令

# v4.5.0 2020.12.12
## 活动维护
1. 新增2020DNF嘉年华页面主页面签到活动

# v4.4.10 2020.12.11
## bugfix
1. 修复DNF征集令抽奖次数不刷新的问题，在QQ空间登录时额外访问两次征集令活动页面，并分别停留5秒，确保刷新抽奖次数

## autojs
1. 新增心悦app G分脚本
2. 新增wegame积分脚本
3. 微信签到脚本增加新的微信签到活动：2020DNF嘉年华派送好礼

## 代码重构
1. 抽取amesvr活动的通用构建逻辑，方便后续添加新活动，减少维护成本~

## 登录模块
1. 增加wegame登录逻辑

## 提示信息
1. 配置中关于获取助手token的注释，加上代码中给出的额外提示~
2. 额外加个不启用QQ空间登录的提示
3. readme页面增加声明
4. 调整助手信息的描述

## 活动维护
1. 移除过期的 dnf助手排行榜 活动

## 主页
1. 添加基于docsify的github pages页面

## 其他
1. 增加获取活动描述链接的注释
2. 调整changelog的层级结构
3. 调整一下等待登录iframe的默认时间
4. 增加检测助手userid的有效性
5. 增加指引auto.js相关脚本内容

## 工具链
1. 抽取更新github pages页面的逻辑
2. 抽取同步到github的逻辑

# v4.4.9 2020.12.7
## 流程调整
1. hello语音每日和每周的东西太迷你，注释掉，只保留每月的，如有需求，请自行下载源码，将hello_voice函数中对应行取消注释，然后运行main.py
2. QQ空间登录类型额外访问一下征集令活动界面（似乎抽奖次数要这样刷新？）
3. 兑换hello语音奖励时，若仍有剩余，则继续兑换
4. 新的黑钻改为使用amesvr去发送，且阉割为只有一个奖励了

## 显示调整
1. 增加打印编年史进度信息
2. 打印助力积分前刷新下积分信息
3. 整理一遍输出日志

## bugfix
1. 修复因key数据类型不对而导致获取不到抽奖次数的问题
2. 未绑定dnf角色信息时不进行征集令活动

## 其他
1. 增加绑定dnf的函数，以解决小号无法绑定dnf的问题
2. 将请求帮忙的逻辑抽象为函数，供日后使用
3. 抽象判定请求是否成功的逻辑，并新增处理hello语音的回包的情况

# v4.4.8 2020.12.6
## 声明
1. 增加一段声明，把一些基本原则先说清楚
2. 【声明】再强调一遍，这个工具首先是我自己用，然后才是分享出来给大家一起用的~核心需求是我自己会用能用，文档、教程都是为了方便各位使用而特地添加的，能起到一丝参考作用已经是很不错了。维护这个工具的时间有限，各位请将程序稳定性/功能可用性/异常崩溃等【偏程序】类的问题来作为反馈问题的主要类目，而不是配置方便性、文档准确性、视频精练度、界面美观度等【非程序类】问题。我是一个程序员，不是策划，也不是文案，更不是ui，能把程序功能做好已经很不错了。而且单就指引性信息而言，目前的文字文档、视频教程、配置文件注释、代码注释、运行时日志等已经提供了使用本工具所需要的几乎所有须知信息了。今天在论坛跟一个揪着文档不能完美描述程序运行逻辑这一点不放的人大吵了一顿，而且最后看他给出的截图，所谓的因为我没有给出多账号时账号名称不能重复这一点而浪费了半小时也完全不能成立，根据截图，明确提示了【第2个账号 默认账号 的名称与第1个账号的名称重复了，请调整为其他名称】，因为使用了默认的log.error方法，最终的色彩为暗红色，可能不太显眼，但是这并不能抵消实际已经给出了解决问题所需的完整信息这一点。今后如果再有这种事的话，我觉得可能还是我自己一个人用比较好，免得生是非=……=最后再提一小点，这真的只是单纯的分享出来给大家用，没有高人一等，也不比你低劣几分。我选择分享出来，也自然可以选择只接受特定内容的建议，你如果觉得好用，尽管去用。如果觉得哪里不好，如果是程序性逻辑问题，可以向我提issue或反馈，自然会尽力解决。如果是非程序类的问题，如配置方便性等，请自行fork一份代码去做调整，然后使用自己修改后的版本。当然如果愿意与其他人分享，也可以提一个pull request，如果真的有所改善，将会选择性合并进主干。当然，也可以选择不用哈。但是不接受就非程序类的问题来向我提意见/需求等，真的真的没有时间（别跟我说【我管你有没有时间】这种话，如果这样彼此没用沟通的必要了）。

# v4.4.7 2020.12.5
## 请求红包助力
1. 【这个更新不必强制更新，只是请求大家帮忙点下红包助力链接0-0】
2. 今天看到有个【DPL大狂欢 邀请好友拆红包】，类似于拼多多，需要找其他人在自己的邀请页面中登录并绑定角色，进度足够就可以获得一个红包了。大家可不可以帮我点一下哇0-0  点开链接后登录然后绑定角色就OK啦，提前谢谢大家啦0-0 就当是一直免费维护和更新这个小工具的小报酬啦^_^。https://dnf.qq.com/cp/a20201110packet/index.html?inviter=1054073896&&gameId=1006

## 其他
1. 检查dnf助手的userId是否误填为了昵称
2. 调整检查配置文件时的颜色，默认的红色太暗淡了-。-
3. 请求失败捕获全部异常，这样除超时外，如代理网络变更等也可以捕捉

# v4.4.6 2020.12.4
## 新活动
1. 增加支持hello语音网页礼包兑换
2. 新增autojs脚本用于完成hello语音的活动，详见主目录中【基于autojs实现的一些自动化脚本.url】链接

## 其他
1. 增加打印助力积分
2. 修复更新日志中链接串起来的问题

# v4.4.5 2020.12.3
## bugfix
1. 配置文件中补上dnf编年史的活动开关
2. 修复编年史打印的获取经验不对的问题
3. 调整助手编年史的任务奖励领取逻辑，解决签到任务无法自动领取的问题

# v4.4.4 2020.12.2
## bugfix
1. 修复在未配置助手的userId的时候也会触发dnf助手编年史相关逻辑的问题

# v4.4.3 2020.12.2
## 活动维护
1. 新增阿拉德勇士征集令活动
2. 新增dnf助手编年史活动

## 其他
1. 调整临时提示的格式

# v4.4.2 2020.11.30
## 助手token
1. 完善使用http canary获取token的步骤说明，并增加演示视频链接指引

## 其他
1. 没有鲜花时不实际进行操作

# v4.4.1 2020.11.29
## bugfix
1. 修复token填写错误时请求出错的问题

# v4.4.0 2020.11.29
## 活动维护
1. 增加dnf助手排行榜活动
2. 移除过期的qq视频活动

# v4.3.3 2020.11.27
## 活动维护
1. 移除过期的女法三觉活动

# v4.3.2 2020.11.23
## chrome
1. chrome driver和便携版升级为87版本

# v4.3.1 2020.11.20
## DNF进击吧赛利亚
1. 额外增加调用清空工作天数接口，与页面逻辑一致
2. 运行结束时额外展示打工信息和其他状态

# v4.3.0 2020.11.18
## 新活动
1. 增加DNF进击吧赛利亚活动
2. 新增配置：赛利亚活动拜访目标QQ列表

## 调试
1. post请求额外打印data，方便排查问题

# v4.2.5 2020.11.17
## 微信自动签到方案
1. 增加一个微信自动签到的方案提示，在每次运行结束的时候展示一次~

# v4.2.4 2020.11.5
## 助手token获取方式
1. 因塔罗牌活动从助手中移除了，其他活动分享链接中似乎不带token，因此提示信息中增加介绍通过https抓包来获取token的方法，供需要做助手活动的朋友来参考（在助手账号未登出的情况下，只需要操作一次即可）

# v4.2.3 2020.11.5
## 活动维护
1. 解决因dnf助手增加校验User-Agent而导致登录态失效，无法进行女法三觉活动的问题

## 提示
1. 调整未预期的异常出现时的提示语，突出显示查看是否有更新的部分

## 恰饭
1. 每周首次运行时不论是否打开展示二维码的开关，都展示一次

## 工具链
1. 接入github action，在创建新tag的时候自动触发构建发布流程，作为蓝奏云的备选项
2. 由于目前api剩余量比较充足，暂时扩大个人展示用量数据的范围，展示过去两周的使用情况统计

# v4.2.2 2020.11.1
## 移除过期活动
1. 集卡活动
2. wegame国庆活动
3. 阿拉德集合站活动

# v4.2.1 2020.10.31
## 活动调整
1. qq视频活动延期到11.22，放回来

# v4.2.0 2020.10.31
## 新活动
1. 女法三觉活动忘记加到入口里了-。-

# v4.1.9 2020.10.30
## 新活动
1. 新增DNF助手10月女法师三觉活动
2. 增加微信签到的架子（未确定如何稳定获取微信的登录态之前实际没法使用）

## 提示
1. 增加一些助手token的提示语

# v4.1.8 2020.10.29
## 活动维护
1. 管家活动过期了，启动时不需要再尝试登录管家了
2. 9月希洛克攻坚战活动过期，移除

## 活动开关
1. 增加集卡功能开关
2. 若未开启集卡，则不尝试登陆QQ空间
3. 增加道聚城、心悦特权专区、腾讯游戏信用礼包的开关

## 提示调整
1. 额外加点提示

## 抽卡
1. 额外封装一个按照卡片名字送卡片的功能

## 工具链
1. 上传文件流程增加一个统计时间日志

# v4.1.7 2020.10.27
## 提示优化
1. 下载便携版chrome压缩包加个提示

## 数据统计
1. 增加一个用于判断是否是今日首次运行的机制
2. 只在每日首次运行时尝试上报使用数据
3. 增加数据上报的提示信息

## 工具链
1. 发布脚本增加自动上传蓝奏云的机制

# v4.1.6 2020.10.26
## 数据统计
1. 默认不展示小助手使用概览，节省api调用次数（每日免费版限定3w次）
2. 移除一些不必要的数据埋点，节省api调用量

# v4.1.5 2020.10.26
## 文档
1. 增加更换领取角色的说明

## 提示信息
1. 运行结束展示一下小助手的整体使用情况

## 其他
1. 修复打包压缩包不带目录的问题

# v4.1.4 2020.10.26
## 使用统计
1. 由于国内的网络现状，改用leancloud来实现使用统计功能

# v4.1.3 2020.10.23
## 922蚊子腿
1. 移除部分已经到期的蚊子腿活动

## 教程
1. 使用文档目录调整为使用教程
2. 增加运行模式移除说明
3. 更新文档，移除部分当前版本已移除内容
4. 增加引导查看教程和提示新旧版本存档的问题

## 便利
1. 增加一个使用npp打开config.toml的快捷脚本，并添加相关说明

## 提示
1. 调整若干提示，使之更加清楚

## 配置
1. 无法绑定dnf的配置也暴露出来
2. 默认配置中赠送卡片目标QQ数组加一个示例配置

## 其他
1. 调整网盘域名


# v4.1.2 2020.10.19
## 运行模式
1. 移除运行模式配置，首次使用不再需要手动改配置，改为直接根据绑定状态来决定是否继续后续流程还是重试绑定阶段

## 抽卡
1. 根据目标账户是否有剩余可领取奖励来决定赠送最需要的卡片还是其他QQ最富余的卡片
2. 调整赠送卡片配置，支持配置多个QQ
3. 抽奖复用重试请求的逻辑，从而在出错的时候可以重试

## 最大化
1. 调整最大化的规则，改为直接去查找当前进程所处的窗口，避免最大化其他程序

## 提示
1. 修正部分提示语，表述更加准确

## 其他
1. 调整ga的捕获异常，扩大范围
2. 移除一些过期的活动

# v4.1.1 2020.10.12
## qq视频
1. 修复qq视频蚊子腿三十分钟签到和累计奖励无法领取的问题

## 流程优化
1. 登录按钮调整为3秒后点击，避免无法点击

## 提示调整
1. 整体的try的报错信息中增加打印版本信息
2. 账号概览中心悦组队增加打印固定队ID

## 重构代码
1. 封装获取固定队逻辑

# v4.1.0 2020.10.8
## qq视频
1. 修正vuserid获取不到的问题
2. qq视频的绑定提示好像有点问题，改为写一条警告日志吧
3. 屏蔽多余的请求

## 抽卡
1. 赠送完卡片后尝试抽奖
2. 抽卡相关请求加上超时

## 数据分析
1. Google Analytics上报出错时改为打印debug级别日志

# v4.0.10 2020.10.5
## 数据分析
1. 增加上报版本号信息
2. 部分内容改用pageview上报
3. 增加urlencode

# v4.0.9 2020.10.5
## 抽卡
1. 增加消耗所有卡片来抽奖的功能，并增加开关
2. 增加检查某个账户是否仍有剩余卡片但无任何剩余领奖次数，并在这种情况提示开启消耗卡片抽奖功能
3. 赠送卡片的时候从后面的号开始尝试送，默认前面的号比较重要

## qq视频
1. 调整qq视频未绑定的判定逻辑 

## 提示
1. 配置模式这里增加一个提示，配置错误的时候提示下

## 数据分析
1. 接入Google Analytics从而方便知道每日使用的人数，以及各个功能的使用情况，方便进行优化调整

# v4.0.8 2020.10.2
## 抽卡
1. 增加查询剩余被赠送次数和赠送卡片逻辑
2. 程序运行结束尝试自动赠送最需要的卡片
3. 增加配置自动赠送卡片的目标QQ

## 心悦国庆礼包
1. 修复心悦国庆礼包领取失败的问题

## bugfix
1. 修复警告开关逻辑的问题

## 其他
1. 调整打印策略，不打印改为使用log级别打印，方便后续查错

# v4.0.7 2020.9.30
## 许愿
1. 调整限制iOS王者荣耀不能许愿的逻辑
2. 调整许愿功能的配置，改为开关

# v4.0.6 2020.9.30
## 许愿
1. 限制许愿功能只能安卓版本王者荣耀使用，减少维护成本

## bugfix
1. 修复闪光杯抽奖成功时程序异常的问题
2. 修复许愿部分参数未传参的问题

## 提示
1. 增加若干提示

# v4.0.5 2020.9.30
## 9.22系列蚊子腿
1. 增加支持电脑管家蚊子腿

## 登录模块
1. 调整不同登录业务的传参方式
2. 增加支持登录电脑管家业务

## 其他
1. 增加支持解析内容为合法json格式的jsonp数据

# v4.0.4 2020.9.30
## 9.22系列蚊子腿
1. 增加希洛克攻击战活动

## 配置
1. 增加配置dnf助手相关信息，用于希洛克活动，并增加配置教程指引

# v4.0.3 2020.9.30
## 道聚城
1. 增加支持道聚城许愿

## 闪光杯
1. 增加周周闪光赢大奖
2. 修复每周出货领奖失败的问题

## 健壮性
1. 闪光杯抽奖增加等待时间

## 提示
1. 增加额外的临时提示

## 抽卡概览
1. 增加配置是否展示在概览界面的配置
2. 小号可以指定非零卡牌数目的颜色

# v4.0.2 2020.9.27
## 9.22系列蚊子腿
1. 增加阿拉德集合站活动
2. 增加2020DNF闪光杯返场赛
3. 增加腾讯视频蚊子腿

## 流程修复
1. 调整默认配置的幸运礼包抽取流程，并修正无法正确领取至尊礼包的问题
2. 非正式运行阶段不执行心悦相关操作
3. 调整调用fetch_lottery_data的时机，改为放在获取对应数据的时候去获取，从而确保数据为最新。否则目前抽卡次数啥的不会是最新值
4. 信用礼包增加等待时间

## 信息展示优化
1. wegame活动增加解析抽奖次数和智慧星数目
2. 增加支持用更多颜色显示日志
3. 特殊处理大号和小号的卡片概览，更加直观
4. headline更加显眼
5. 调整提示信息
6. 账号重点信息突出显示
7. 展示智慧星数目，并展示数据
8. 增加展示累积签到天数
9. 增加获取闪光夺宝次数，并根据该次数进行抽奖

## 登录票据相关
1. 增加获取腾讯视频vuserid用以腾讯视频的蚊子腿

## 机制变更
1. 增加支持额外附加cookie，用以支持腾讯视频蚊子腿

## 配置变更
1. 为了方便维护，将默认配置中的注释掉的第二个账号配置移除。改为提示前往查看文档
2. 移除pskey配置，手动登录不支持抽卡活动

# v4.0.1 2020.9.25
## 9.22系列蚊子腿
1. 增加wegame国庆活动，并可配置兑换道具信息
2. 可单独配置抽卡-幸运勇士的角色信息，从而可以使用其他大区的不登录账号来获得回归抽卡次数
3. 解析抽卡页面的抽卡数据，并从中提取剩余抽卡次数、各卡片当前数目、礼包剩余次数
4. 增加运行结束阶段的卡片概览功能

## 流程优化
1. 即使没dnf角色，也允许进行抽卡流程
2. pskey增加本地缓存，避免每次都重新登录QQ空间业务
3. 启动时增加检查pskey是否过期

## ui调整
1. 突出展示执行的阶段
2. 增加未绑定手游时的提示

## 重构
1. amesvr通用活动系统配置
2. 重构心悦国庆活动
3. 抽取心悦国庆判断绑定的逻辑
4. 提取功能开关配置
5. 每次尝试登陆操作的时候都重新建立chrome实例，并保证最终会销毁该实例，避免资源泄漏
6. 抽取获取pskey的逻辑，方便复用
7. 使用封装的制表函数来重新实现账号概览功能

## 工具链
1. 增加制表的辅助函数

## bugfix
1. 登录QQ空间未根据配置的登录方式来调用
2. 导入exit
3. 修复抽卡-幸运勇士无法领取的问题

# v4.0.0 2020.9.24
## 9.22系列蚊子腿
1. 新增心悦国庆活动【金秋送福 心悦有礼】
2. 新增抽卡活动【征战希洛克集卡抽战灵天舞套！】

## 登录方式
1. 增加支持QQ空间登录，用于实现抽卡所需的qq空间业务的pskey

## 配置
1. 增加qq空间pskey的设置
2. 增加配置是否领取集卡礼包，从而可以让小号不领取
3. 增加配置是否领取新月国庆活动

## bugfix
1. 解决带空格的路径无法正常处理的问题

## 健壮性
1. 腾讯游戏信用的经常出错，加个异常保护

# v3.0.2 2020.9.19
## 显示优化
1. 心悦操作完成后，增加打印心悦组队进度
2. 增加多种提示信息
3. 增加打印聚豆余额变化
4. 抽取main函数，并增加最上层异常保护，保证最终的system pause会被处理
5. 启动和结束时额外打印概览信息
6. 调整各区块操作的提示信息

## 流程调整
1. 心悦组队奖励统一放到所有账户操作完毕后再执行。避免出现队伍中处理前面角色时队伍进度还不够，而后面的进度够了，导致这次执行只有后面的角色领了组队奖励
2. 最开始统一检查一遍skey

## 文档
1. 更新文档

## 其他
1. 增加发布config.toml.example

# v3.0.1 2020.9.18
## 手游配置
1. 进一步降低配置复杂度，增加手游配置值：任意手游，并设为默认值，将从道聚城绑定的任意手游中任意挑选一个

# v3.0.0 2020.9.17
## 文档
1. 更新使用文档，包含所有现有功能，可打开了解相关信息

## 流程
1. 调整配置角色信息的方式，只需配置手游名即可。新的数据来源为道聚城绑定的角色信息，所以需要自行前往道聚城app将dnf和所选手游的角色绑定为需要的角色
2. 移除原有获取角色信息的配置和相关流程
3. 调整预处理阶段流程

## 手游签到
1. 修改手游签到的参数来源，避免部分情况下签到失败的问题

## 行为
1. 启动时默认最大化，方便查看输出信息

## 文案
1. 更新配置和代码中的部分文案，更加易懂

## 代码重构
1. 调整代码，增加可读性
2. 将全部url移到单独的类中，方便后续管理

## 配置
1. 将普通玩家用不到的配置移除，减少信息量。并另建一个示例配置文件，其中展示所有可配置的配置项

## 其他
1. 加入便携版notepad++，用以打开配置文件等方便编辑
2. 打开配置文件的时候跳转到合适的位置

# v2.0.8 2020.9.15
## 手游签到
1. 支持选择道聚城内任意手游来作为每日签到对象，从而完成礼包达人的任务

## 信用礼包
1. 新增腾讯游戏信用礼包
2. 新增信用星级礼包

## 流程优化
1. 预处理模式下顺带帮忙打开对应参考文件和配置文件，无需手动打开

## 显示
1. 调整格式，使结果更直观

## 工具链
1. 发布脚本添加默认版本号，方便使用

## 杂
1. 增加wegame相关接口，用于获取dnf角色相关信息，有兴趣的可以自行源码运行
2. 发布内容不再发布py文件，改为源码链接，使目录更清爽
3. 每次正式模式运行时默认弹出打赏图片，可配置关闭

# v2.0.7 2020.9.12
## 黑钻
1. 新增领取每月黑钻等级礼包

## 配置
1. 增加配置http的超时参数，并进行重试，避免特定请求卡住
2. 调整配置项名称为重试配置，更符合其实际使用场景

# v2.0.6 2020.9.10
## 手游
1. 手游增加支持和平精英（by ☞ Sync.Nep）

## 心悦
1. 增加查询心悦道具信息

## 配置
1. 增加配置是否不显示浏览器界面，主要用于自动登录模式

## 其他
1. 调整小队默认配置，明确指出要填入的是QQ号

# v2.0.5 2020.9.8
## bugfix
1. 不满10位的qq的uin会在左侧补零，从uin中获取qq的时候需要把左侧的0移除，否则本地判断心悦固定队的逻辑会出问题
2. 手游领奖增加设置系统信息，否则无法领取ios的奖励

## 配置调整
1. 增加一个全局配置，可限定提交心悦任务的最早时间，默认0点，可以自行调整

# v2.0.4 2020.9.7
## 心悦组队
1. 调整判断本地心悦队伍ID过期时的逻辑判断，原逻辑中本地心悦队伍过期的逻辑有问题-。-
2. 目前基本确定现在任务不能重复完成了。所以调整默认配置，按照双倍最高、普通最高、免做最高、普通2点和1点的任务来作为默认配置
3. 调整加入固定队的时机，改在所有账号正式模式下操作前执行，避免队伍未满时先把心悦任务给做了-。-


# v2.0.3 2020.9.6
## 心悦组队
1. 新增山寨版心悦组队功能，需本地至少配置三个账号，并在全局配置中设置固定队信息，可在config.toml中搜索【固定队】，查看配置方式
2. 可配置小号领取每周一次的免做卡，并完成【心悦活动备注.txt】中的任意一个免做任务，这样大号可以少做两次任务。并且可以尝试完成邮箱无邮件那个任务

## 其他
1. 打印结果增加unquote，方便查看

# v2.0.2 2020.9.6
## 行为优化
1. 增加根据心悦级别来设置lqlevel参数，从而解决心悦1/2/3无法领取奖励的问题
2. 调整周期礼包的领取逻辑，改为根据心悦等级和白名单信息来决定领取对应礼包
3. 注释原有周期礼包的配置，若发现周期礼包逻辑有问题，可以自行打开
4. 默认配置增加自动查询和领取组队奖励

## 文档说明
1. 心悦备注文档中增加白名单礼包的信息和小队相关接口的信息

# v2.0.1 2020.9.6
## 行为优化
1. 回滚最大化的代码，在不同分辨率的机器上表现会不同，会导致元素无法定位到，还是固定大小吧-。-
2. 任意登录异常均重试

# v2.0.0 2020.9.6
## 心悦活动
1. 增加支持心悦相关操作及配置
2. 更名为DNF蚊子腿小助手

## 登录流程
1. 抽象登录流程，并增加心悦界面登录支持

## 行为优化
1. 兑换道具增加一些行为控制参数，用以控制相关等待和重试行为，避免因请求过快而报错
2. 优化使用浏览器进行登录的流程
3. 特定异常情况下增加重试

## 显示优化
1. 开头额外打印整体的启用状况
2. 添加绑定提示
3. 增加未绑定手游角色的提示
4. 请求结果通过判断错误码来决定使用不同的日志等级输出日志
5. 调整日志格式，在命令行增加着色支持，使结果看上去更美观-。-
6. 增加登录相关提示
7. 增加展示本次操作获得的豆子变动情况

## 配置调整
1. 将部分配置拿出来作为公用配置，方便后续维护
2. 增加检查配置的name字段
3. 增加隐藏配置项，可配置是否展示chrome的debug日志，默认不展示，ui好看一些-。-本地出现异常问题的时候再打开
4. 调整qqlogin的配置传入方式
5. 调整调试开关的位置

## 工具链
1. 编译脚本增加安装依赖库和pyinstaller
2. 改用venv维护
3. 编译构建脚本增加使用log模块
4. 构建步骤在原目录进行，方便后面使用venv
5. 更新编译脚本，默认使用venv
6. 更新依赖，解决找不到win32api的问题

# v1.0.3 2020.9.3
## 新功能
1. 支持多账号

## 文档
1. 增加多账号操作的文档

## 其他
1. 调整首次运行和缓存内容的保存位置
2. 启动时增加打印版本信息和作者信息

# v1.0.2 2020.9.2
## bugfix
1. 增加64位的便携版bandizip和chrome，并在系统无合适版本的chrome的情况下尝试解压调用便携版chrome
2. 调整配置顺序，之前后面几个全局配置项被归到login_timeouts中去了

## 流程优化
1. 检查更新改为放在其他流程完成之后，避免启动时卡住。目前自动登录是依赖于访问github相关页面，国内的网络无代理访问github经常会卡住。
2. 调整登陆阶段的默认最大等待时间，改为10分钟
3. 程序运行完毕增加提示
4. 增加可配置强制使用打包附带的便携版chrome的功能
5. 更新增加超时
6. 增加登录时长提示
7. 角色信息分行打印，方便复制
8. 增加无角色信息时的提示

## 工具脚本
1. 增加安装依赖的快捷脚本
2. 增加简单的编译脚本

# v1.0.1 2020.9.1
## 其他登录模式
1. 增加基于Selenium实现的扫码登录和自动登录
2. 增加配置登录相关超时信息
3. 默认登录方式调整为二维码登录
4. 增加新的登录方式的文档

## bugfix
1. 调整下角色信息中角色名的正则表达式，避免无法匹配含～∷等字符的名字
2. 提示信息增加fallback的js代码，已处理部分不兼容的浏览器

# v1.0.0 2020.8.31
## 初次版本
1. 支持手动登录
2. 增加道聚城自动化活动的支持
3. 增加配置文件的支持
4. 增加检查更新的支持
5. 增加指引模式
6. 增加各种配置
7. 增加各种权责声明
8. 增加说明文档和视频教程
9. 增加skey的过期检查
